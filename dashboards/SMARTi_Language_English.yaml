title: SMARTiEnglish
views:
  - title: Home - English
    path: test23
    icon: mdi:home
    layout:
      max_width: 2000
      max_cols: 1
    subview: false
    type: custom:masonry-layout
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
            - type: custom:digital-clock
              dateFormat:
                weekday: long
                day: 2-digit
                month: short
              timeFormat:
                hour: 2-digit
                minute: 2-digit
              card_mod:
                style: |
                  ha-card {
                    border-radius: 5px 15px 5px 5px;
                    background-color: var(--primary-color);
                    height: 100%;
                  }
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;
                  background-color: var(--primary-color);
                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Security
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Hello, {{ user }} !
      - type: custom:search-card
        max_results: 10
        background: >-
          linear-gradient(to bottom, var(--accent-color),
          rgb(var(--rgb-primary-color-darker)));
        card_mod:
          style: |
            ha-card {
              border-radius: 30px 30px 5px 5px;
              background-color: var(--accent-color);
              color: white;
            }
      - type: custom:banner-card
        heading:
          - mdi:magic-staff
          - Quick Actions
        background: >-
          linear-gradient(to bottom, var(--accent-color),
          rgb(var(--rgb-primary-color-darker)));
        entities:
          - entity: vacuum.roborock_s6_maxv
            name: Vaccum Cleaner
            value: mdi:robot-vacuum
          - entity: input_boolean.all_lights_toggle
            name: Light Control
            action:
              service: light.turn_on
            value: mdi:lightbulb
          - entity: alarm_control_panel.alarmo
            name: Alarm
            value: mdi:shield
        card_mod:
          style: |
            ha-card {
              border-radius: 5px 5px 30px 30px;
            }
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: People
        icon: mdi:human-male-female-child
        styles:
          card:
            - height: 70px
            - padding: 5px
            - margin: 5px
            - max-height: 70px
            - border-radius: 50px
            - transition: transform 0.3s ease
          icon:
            - width: 35px
            - height: 35px
            - padding: 15px
            - margin: 15px
            - left: 10px
            - position: absolute
            - border-radius: 50%
            - background-color: var(--accent-color)
            - z-index: 2
            - animation: pulse 2s infinite
          name:
            - left: 60px
            - position: absolute
            - width: 50%
            - padding: 12px
            - margin: 12px
            - font-weight: 500
            - border-radius: 20px
            - background-color: var(--accent-color)
            - animation: slideInFromLeft 0.5s ease-out
        card_mod:
          style: |
            ha-card {
              max-height: 70px;
              height: 70px;
              padding: 5px;
              margin: 5px;
              background: linear-gradient(to right, var(--accent-color), var(--secondary-background-color));
              transition: transform 0.3s ease;
            }
            ha-card:hover {
              transform: scale(1.05);
            }
            @keyframes pulse {
              0% {
                transform: scale(1);
              }
              50% {
                transform: scale(1.1);
              }
              100% {
                transform: scale(1);
              }
            }
            @keyframes slideInFromLeft {
              0% {
                transform: translateX(-100%);
              }
              100% {
                transform: translateX(0);
              }
            }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:layout-card
          layout_type: horizontal
          cards:
            - type: custom:auto-entities
              card:
                type: glance
                show_name: true
                show_icon: true
                show_state: true
              filter:
                include:
                  - entity_id: person.*
                    options:
                      type: custom:mini-card
            - type: map
              entities:
                - entity: person.tina_larsen
                - entity: person.vetle_norman
              aspect_ratio: '21:9'
              default_zoom: 12
          layout:
            max_width: 2000
            max_cols: 1
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Weather
        icon: mdi:weather-partly-cloudy
        styles:
          card:
            - height: 70px
            - padding: 5px
            - margin: 5px
            - max-height: 70px
            - border-radius: 50px
            - transition: transform 0.3s ease
          icon:
            - width: 35px
            - height: 35px
            - padding: 15px
            - margin: 15px
            - left: 10px
            - position: absolute
            - border-radius: 50%
            - background-color: var(--accent-color)
            - z-index: 2
            - animation: pulse 2s infinite
          name:
            - left: 60px
            - position: absolute
            - width: 50%
            - padding: 12px
            - margin: 12px
            - font-weight: 500
            - border-radius: 20px
            - background-color: var(--accent-color)
            - animation: slideInFromLeft 0.5s ease-out
        card_mod:
          style: |
            ha-card {
              max-height: 70px;
              height: 70px;
              padding: 5px;
              margin: 5px;
              background: linear-gradient(to right, var(--accent-color), var(--secondary-background-color));
              transition: transform 0.3s ease;
            }
            ha-card:hover {
              transform: scale(1.05);
            }
            @keyframes pulse {
              0% {
                transform: scale(1);
              }
              50% {
                transform: scale(1.1);
              }
              100% {
                transform: scale(1);
              }
            }
            @keyframes slideInFromLeft {
              0% {
                transform: translateX(-100%);
              }
              100% {
                transform: translateX(0);
              }
            }
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background: linear-gradient(to left, var(--accent-color), transparent)
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - show_current: true
              show_forecast: true
              type: weather-forecast
              entity: weather.forecast_sjekteveien
              forecast_type: daily
              name: Weekly Weather
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - type: custom:hourly-weather
              entity: weather.forecast_sjekteveien
              icons: true
              show_date: boundary
              show_precipitation_amounts: false
              show_precipitation_probability: false
              colors:
                sunny: '#ff8800'
                snowy-rainy: rgba(255, 255, 255, 0.8)
                exceptional: red
                rainy: orange
                windy:
                  background: lightgray
              show_wind: speed
              num_segments: '16'
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Calendar
        icon: mdi:calendar
        styles:
          card:
            - height: 70px
            - padding: 5px
            - margin: 5px
            - max-height: 70px
            - border-radius: 50px
            - transition: transform 0.3s ease
          icon:
            - width: 35px
            - height: 35px
            - padding: 15px
            - margin: 15px
            - left: 10px
            - position: absolute
            - border-radius: 50%
            - background-color: var(--accent-color)
            - z-index: 2
            - animation: pulse 2s infinite
          name:
            - left: 60px
            - position: absolute
            - width: 50%
            - padding: 12px
            - margin: 12px
            - font-weight: 500
            - border-radius: 20px
            - background-color: var(--accent-color)
            - animation: slideInFromLeft 0.5s ease-out
        card_mod:
          style: |
            ha-card {
              max-height: 70px;
              height: 70px;
              padding: 5px;
              margin: 5px;
              background: linear-gradient(to right, var(--accent-color), var(--secondary-background-color));
              transition: transform 0.3s ease;
            }
            ha-card:hover {
              transform: scale(1.05);
            }
            @keyframes pulse {
              0% {
                transform: scale(1);
              }
              50% {
                transform: scale(1.1);
              }
              100% {
                transform: scale(1);
              }
            }
            @keyframes slideInFromLeft {
              0% {
                transform: translateX(-100%);
              }
              100% {
                transform: translateX(0);
              }
            }
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background: linear-gradient(to left, var(--accent-color), transparent)
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - initial_view: dayGridMonth
              type: calendar
              entities:
                - calendar.kalender
      - type: custom:gap-card
        height: 25
  - title: Misc
    path: rooms
    icon: mdi:cube-unfolded
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color);
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;
                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                  background-color: var(--primary-color);
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Security
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Rooms
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: custom:mod-card
          card_mod:
            style:
              .: |
                ha-card {
                  --ha-card-border-width: 0;
                  --ha-card-border-radius: 20px;
                  --ha-card-background: transparent;
                }
          card:
            type: custom:tabbed-card
            tabs:
              - attributes:
                  label: Rooms
                  icon: mdi:cube-unfolded
                type: conditional
                conditions:
                  - condition: screen
                    media_query: '(min-width: 768px)'
                card:
                  type: custom:auto-entities
                  card:
                    type: grid
                    columns: 3
                    square: false
                    style:
                      background-color: var(--primary-color)
                  card_param: cards
                  filter:
                    template: |-
                      {% for AREA in areas() -%}
                        {{
                          {
                            'type': 'area',
                            'area': AREA,
                            'card_mod': {
                              'style': [
                                'ha-card {',
                                '  background-color: transparent;',
                                '  border-radius: 20px;',
                                '}'
                              ] | join('\n')
                            },
                          }
                        }},
                      {%- endfor %}
              - attributes:
                  label: Unassigned
                  icon: mdi:chat-question
                card:
                  type: custom:auto-entities
                  card:
                    type: entities
                    title: Entities Not Assigned to an Area
                    show_header_toggle: false
                  filter:
                    include:
                      - domain: light
                        not:
                          area: '*'
                      - domain: switch
                        not:
                          area: '*'
                      - domain: lock
                        not:
                          area: '*'
                      - domain: sensor
                        attributes:
                          device_class: temperature
                        not:
                          area: '*'
                    exclude:
                      - domain: group
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 0px) and (max-width: 767px)'
        card:
          type: custom:mod-card
          card_mod:
            style:
              .: |
                ha-card {
                  --ha-card-border-width: 0;
                  --ha-card-border-radius: 20px;
                  --ha-card-background: transparent;
                }
          card:
            type: custom:tabbed-card
            tabs:
              - attributes:
                  label: Rooms
                  icon: mdi:cube-unfolded
                type: conditional
                conditions:
                  - condition: screen
                    media_query: '(min-width: 768px)'
                card:
                  type: custom:auto-entities
                  card:
                    type: grid
                    columns: 1
                    square: false
                    style:
                      background-color: var(--primary-color)
                  card_param: cards
                  filter:
                    template: |-
                      {% for AREA in areas() -%}
                        {{
                          {
                            'type': 'area',
                            'area': AREA,
                            'card_mod': {
                              'style': [
                                'ha-card {',
                                '  background-color: transparent;',
                                '  border-radius: 20px;',
                                '}'
                              ] | join('\n')
                            },
                          }
                        }},
                      {%- endfor %}
              - attributes:
                  label: Unassigned
                  icon: mdi:chat-question
                card:
                  type: custom:auto-entities
                  card:
                    type: entities
                    title: Entities Not Assigned to an Area
                    show_header_toggle: false
                  filter:
                    include:
                      - domain: light
                        not:
                          area: '*'
                      - domain: switch
                        not:
                          area: '*'
                      - domain: lock
                        not:
                          area: '*'
                      - domain: sensor
                        attributes:
                          device_class: temperature
                        not:
                          area: '*'
                    exclude:
                      - domain: group
  - title: Lights
    path: lights
    icon: mdi:lightbulb
    type: custom:masonry-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;
                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color);
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   
                  background-color: var(--primary-color);
                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;  
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Lights & Control
      - type: custom:button-card
        name: Scenes
        icon: mdi:movie
        styles:
          card:
            - height: 70px
            - padding: 5px
            - margin: 5px
            - max-height: 70px
            - border-radius: 50px
            - transition: transform 0.3s ease
          icon:
            - width: 35px
            - height: 35px
            - padding: 15px
            - margin: 15px
            - left: 10px
            - position: absolute
            - border-radius: 50%
            - background-color: var(--accent-color)
            - z-index: 2
            - animation: pulse 2s infinite
          name:
            - left: 60px
            - position: absolute
            - width: 50%
            - padding: 12px
            - margin: 12px
            - font-weight: 500
            - border-radius: 20px
            - background-color: var(--accent-color)
            - animation: slideInFromLeft 0.5s ease-out
        card_mod:
          style: |
            ha-card {
              max-height: 70px;
              height: 70px;
              padding: 5px;
              margin: 5px;
              background: linear-gradient(to right, var(--accent-color), var(--secondary-background-color));
              transition: transform 0.3s ease;
            }
            ha-card:hover {
              transform: scale(1.05);
            }
            @keyframes pulse {
              0% {
                transform: scale(1);
              }
              50% {
                transform: scale(1.1);
              }
              100% {
                transform: scale(1);
              }
            }
            @keyframes slideInFromLeft {
              0% {
                transform: translateX(-100%);
              }
              100% {
                transform: translateX(0);
              }
            }
      - type: custom:gap-card
        height: 25
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:layout-card
          layout_type: horizontal
          cards:
            - type: custom:auto-entities
              card:
                type: glance
                show_name: true
                show_icon: true
                show_state: true
              filter:
                include:
                  - domain: scene
                    options:
                      type: custom:mini-card
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: entities
          filter:
            template: >-
              {% set area_filter = ['area1','area2'] %}

              {% set filter = ['light.light1','light.light2'] %}

              {% set hidden_entities = states |
              selectattr('attributes.is_hidden', 'eq', true) |
              map(attribute='entity_id') | list %}

              {%- set areas = states.light

              | rejectattr('entity_id', 'in', filter)

              | rejectattr('entity_id', 'in', hidden_entities)

              | map(attribute='entity_id')

              | map('area_name') | unique | reject('none') 

              | reject('in', area_filter)     

              | list -%}      

              {%- for area in areas  -%}

              {% set lights = states.light

              | rejectattr('entity_id', 'in', filter)

              | rejectattr('entity_id', 'in', hidden_entities)

              | selectattr('entity_id', 'in', area_entities(area)) 

              | list -%}
                {{{ 'type': 'custom:button-card',
                    'name': area,
                    'icon' : 'mdi:lightbulb',
                    'styles': {
                      'card': [
                        { 'height:': '70px'},
                        { 'padding': '5px'},
                        { 'margin': '5px'},
                        { 'max-height:': '70px'},
                        { 'border-radius': '50px'},
                        { 'transition': 'transform 0.3s ease'}
                      ],
                      'icon': [
                        { 'width': '35px'},
                        { 'height': '35px'},
                        { 'padding': '15px'},
                        { 'margin': '15px'},                
                        { 'left': '10px'},
                        { 'position': 'absolute'},
                        { 'border-radius': '50%'},
                        { 'background-color': 'var(--accent-color)'},
                        { 'z-index': '2'},
                        { 'animation': 'pulse 2s infinite'}                              
                      ],
                      'name': [
                        { 'left': '60px'},
                        { 'position': 'absolute'},
                        { 'width': '50%'},
                        { 'padding': '12px'},
                        { 'margin': '12px'}, 
                        { 'font-weight': '500'},
                        { 'border-radius': '20px'},
                        { 'background-color': 'var(--accent-color)'},
                        { 'animation': 'slideInFromLeft 0.5s ease-out'}
                      ],
                    },
                    'card_mod': {
                      'style': [
                        'ha-card {',                
                        '  max-height: 65px;',
                        '  height: 65px;',
                        '  padding: 0px;',
                        '  margin: 0px;',
                        '  background: linear-gradient(to right, var(--accent-color), transparent);',
                        '  transition: transform 0.3s ease;' ,
                        '}'                
                        'ha-card:hover {',
                        '  transform: scale(1.05);'
                        '}'               
                        '@keyframes pulse {',
                        '  0% {',
                        '  transform: scale(1);',
                        '}'
                        '  50% {',
                        '  transform: scale(1.1);',
                        '}'
                        '  100% {',
                        '  transform: scale(1);',
                        '}',
                        '}'              
                        '@keyframes slideInFromLeft {',
                        '  0% {',
                        '  transform: translateX(-100%);',
                        '}'            
                        '  100% {',
                        '  transform: translateX(0);',
                        '}',
                        '}'
                                                     
                      ] | join('\n')
                    },
                }}},

                
                {%- for light in lights  -%}
                    {{{ 'type': 'custom:mushroom-light-card',              
                        'entity': light.entity_id,
                        'use_light_color': 'true',
                        'show_brightness_control': 'true',
                        'show_color_control': 'true',
                        'collapsible_controls': 'false',
                        'show_color_temp_control': 'true'
                        }}},
                {%- endfor %}{%- endfor %} 
            exclude:
              - hidden_by: '*'
  - title: Temperature Floor 1
    path: temperature
    icon: mdi:thermometer
    type: custom:masonry-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:radiator
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;      
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Temperature & Humidity
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Temperature & Humidity
            icon: mdi:chart-areaspline
            styles:
              card:
                - height: 65px
                - max-height: 65px
                - padding: 0
                - margin: 0
                - background: >-
                    linear-gradient(to right, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
            card_mod:
              style: |
                ha-card {
                  height: 65px;
                  max-height: 65px;
                  padding: 0;
                  margin: 0;
                  background: var(--primary-color);
                  border-radius: 20px 20px 5px 5px;
                }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:tabbed-card
          tabs:
            - attributes:
                label: Temperature
                icon: mdi:thermometer
              card:
                type: custom:auto-entities
                card:
                  type: statistics-graph
                  chart_type: line
                  title: Temperature Graph
                  stat_types:
                    - mean
                  period: hour
                  days_to_show: 2
                  hide_legend: true
                filter:
                  include:
                    - domain: sensor
                      attributes:
                        device_class: temperature
            - attributes:
                label: Humidity
                icon: mdi:water-percent
              card:
                type: custom:auto-entities
                card:
                  type: statistics-graph
                  chart_type: line
                  title: Humidity Graph
                  stat_types:
                    - mean
                  period: hour
                  days_to_show: 2
                  hide_legend: true
                filter:
                  include:
                    - domain: sensor
                      attributes:
                        device_class: humidity
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: entities
          filter:
            template: >-
              {% set area_filter = ['area1', 'area2'] %}

              {% set temp_filter = ['sensor.temperature_sensor_1',
              'sensor.temperature_sensor_2'] %}

              {% set humid_filter = ['sensor.humidity_sensor_1',
              'sensor.humidity_sensor_2'] %}

              {%- set areas = states.sensor
                | selectattr('attributes.device_class', 'in', ['temperature', 'humidity'])
                | rejectattr('entity_id', 'in', temp_filter + humid_filter)
                | map(attribute='entity_id')
                | map('area_name') | unique | reject('none') 
                | reject('in', area_filter)
                | list -%}
              {%- for area in areas -%}
                {% set temperatures = states.sensor
                  | selectattr('attributes.device_class', 'eq', 'temperature')
                  | rejectattr('entity_id', 'in', temp_filter)
                  | selectattr('entity_id', 'in', area_entities(area))
                  | list -%}
                {% set humidities = states.sensor
                  | selectattr('attributes.device_class', 'eq', 'humidity')
                  | rejectattr('entity_id', 'in', humid_filter)
                  | selectattr('entity_id', 'in', area_entities(area))
                  | list -%}                
                {{{ 'type': 'custom:button-card',
                    'name': area,
                    'icon' : 'mdi:water-thermometer-outline',
                    'styles': {
                      'card': [
                        { 'background-color': 'var(--primary-color)' },
                        { 'height:': '65px'},
                        { 'padding': '0'},
                        { 'margin': '0'},
                        { 'max-height:': '65px'},
                        { 'border-radius': '20px 20px 5px 5px'}
                      ],
                      'icon': [
                        { 'height': '35px'},
                      ],
                    },
                    'card_mod': {
                      'style': [
                        'ha-card {',                
                        '  max-height: 65px;',
                        '  height:: 65px;',
                        '  padding:: 0px;',
                        '  margin:: 0px;',
                        '}'
                      ] | join('\n')
                    },
                }}},
                  {%- for sensor in temperatures -%}
                      {{{ 'type': 'custom:mushroom-entity-card',
                          'entity': sensor.entity_id
                          }}},
                  {%- endfor %}
                  {%- for sensor in humidities -%}
                      {{{ 'type': 'custom:mushroom-entity-card',
                          'entity': sensor.entity_id}}},
                  {%- endfor %}
              {%- endfor %}
  - title: Heat Control
    path: heating
    icon: mdi:radiator
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;
                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px; 
                  background-color: var(--primary-color);     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Climate Control
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:tabbed-card
          tabs:
            - attributes:
                label: Temperature
                icon: mdi:thermometer
              card:
                type: custom:auto-entities
                card:
                  type: statistics-graph
                  chart_type: line
                  title: Temperature Graph
                  stat_types:
                    - mean
                  period: hour
                  days_to_show: 2
                  hide_legend: true
                filter:
                  include:
                    - domain: sensor
                      attributes:
                        device_class: temperature
            - attributes:
                label: Humidity
                icon: mdi:water-percent
              card:
                type: custom:auto-entities
                card:
                  type: statistics-graph
                  chart_type: line
                  title: Humidity Graph
                  stat_types:
                    - mean
                  period: hour
                  days_to_show: 2
                  hide_legend: true
                filter:
                  include:
                    - domain: sensor
                      attributes:
                        device_class: humidity
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:tabbed-card
          tabs:
            - attributes:
                label: Climate Control
                icon: mdi:fan
              card:
                type: custom:mod-card
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --ha-card-border-width: 0;
                        --ha-card-border-radius: 20px;
                        --ha-card-background: transparent;
                      }
                card:
                  type: custom:auto-entities
                  card:
                    type: entities
                  filter:
                    template: >-
                      {% set area_filter = ['area1', 'area2'] %}

                      {# Filter for climate devices #} {% set climate_filter =
                      states.climate | map(attribute='entity_id') | list %}

                      {%- set areas = states.climate
                        | map(attribute='entity_id')
                        | map('area_name') | unique | reject('none') 
                        | reject('in', area_filter)
                        | list -%}

                      {%- for area in areas -%}
                        {% set climate_devices = states.climate
                          | selectattr('entity_id', 'in', climate_filter)
                          | selectattr('entity_id', 'in', area_entities(area)) | list -%}

                                   {{{ 'type': 'custom:button-card',
                            'name': area,
                            'icon' : 'mdi:water-thermometer',
                            'styles': {
                              'card': [
                                { 'height:': '65px'},
                                { 'padding': '0'},
                                { 'margin': '0'},
                                { 'max-height:': '65px'},
                                { 'border-radius': '100px 10px 100px 10px'}
                              ],
                              'icon': [
                                { 'width': '30px'},
                                { 'height': '30px'},
                                { 'padding': '13px'},
                                { 'margin': '20px'},                
                                { 'left': '20px'},
                                { 'position': 'absolute'},
                                { 'border-radius': '20px'},
                                { 'background-color': 'var(--accent-color)'}
                              ],
                              'name': [
                                { 'left': '70px'},
                                { 'position': 'absolute'},
                                { 'text-align': 'left'},
                                { 'width': '40%'},
                                { 'padding': '10px'},
                                { 'margin': '10px'}, 
                                { 'font-weight': 'bold'},
                                { 'border-radius': '10px 10px 100px 10px'},
                                { 'background-color': 'var(--accent-color)'}
                              ],
                            },
                            'card_mod': {
                              'style': [
                                'ha-card {',                
                                '  max-height: 65px;',
                                '  height: 65px;',
                                '  padding: 0px;',
                                '  margin:: 0px;',
                                '  background: linear-gradient(to right, var(--accent-color), transparent);',
                                '}'
                              ] | join('\n')
                            },
                        }}},

                        {%- for device in climate_devices -%}
                          {{{ 'type': 'custom:better-thermostat-ui-card',
                              'entity': device.entity_id,
                              'name': device.entity_id }}},
                        {%- endfor %}
                      {%- endfor %}
            - attributes:
                label: Temperature & Humidity
                icon: mdi:thermometer
              card:
                type: custom:mod-card
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --ha-card-border-width: 0;
                        --ha-card-border-radius: 20px;
                        --ha-card-background: transparent;
                      }
                card:
                  type: custom:auto-entities
                  card:
                    type: entities
                  filter:
                    template: >-
                      {% set area_filter = ['area1', 'area2'] %}

                      {% set temp_filter = ['sensor.temperature_sensor_1',
                      'sensor.temperature_sensor_2'] %}

                      {% set humid_filter = ['sensor.humidity_sensor_1',
                      'sensor.humidity_sensor_2'] %}

                      {%- set areas = states.sensor
                        | selectattr('attributes.device_class', 'in', ['temperature', 'humidity'])
                        | rejectattr('entity_id', 'in', temp_filter + humid_filter)
                        | map(attribute='entity_id')
                        | map('area_name') | unique | reject('none') 
                        | reject('in', area_filter)
                        | list -%}
                      {%- for area in areas -%}
                        {% set temperatures = states.sensor
                          | selectattr('attributes.device_class', 'eq', 'temperature')
                          | rejectattr('entity_id', 'in', temp_filter)
                          | selectattr('entity_id', 'in', area_entities(area))
                          | list -%}
                        {% set humidities = states.sensor
                          | selectattr('attributes.device_class', 'eq', 'humidity')
                          | rejectattr('entity_id', 'in', humid_filter)
                          | selectattr('entity_id', 'in', area_entities(area))
                          | list -%}                
                        {{{ 'type': 'custom:button-card',
                            'name': area,
                            'icon' : 'mdi:water-thermometer',
                            'styles': {
                              'card': [
                                { 'height:': '65px'},
                                { 'padding': '0'},
                                { 'margin': '0'},
                                { 'max-height:': '65px'},
                                { 'border-radius': '100px 10px 100px 10px'}
                              ],
                              'icon': [
                                { 'width': '30px'},
                                { 'height': '30px'},
                                { 'padding': '13px'},
                                { 'margin': '20px'},                
                                { 'left': '20px'},
                                { 'position': 'absolute'},
                                { 'border-radius': '20px'},
                                { 'background-color': 'var(--accent-color)'}
                              ],
                              'name': [
                                { 'left': '70px'},
                                { 'position': 'absolute'},
                                { 'text-align': 'left'},
                                { 'width': '40%'},
                                { 'padding': '10px'},
                                { 'margin': '10px'}, 
                                { 'font-weight': 'bold'},
                                { 'border-radius': '10px 10px 100px 10px'},
                                { 'background-color': 'var(--accent-color)'}
                              ],
                            },
                            'card_mod': {
                              'style': [
                                'ha-card {',                
                                '  max-height: 65px;',
                                '  height: 65px;',
                                '  padding: 0px;',
                                '  margin:: 0px;',
                                '  background: linear-gradient(to right, var(--accent-color), transparent);',
                                '}'
                              ] | join('\n')
                            },
                        }}},

                          {%- for sensor in temperatures -%}
                              {{{ 'type': 'custom:mushroom-entity-card',
                                  'entity': sensor.entity_id,
                                  'icon_color': 'primary',}}},
                          {%- endfor %}
                          {%- for sensor in humidities -%}
                              {{{ 'type': 'custom:mushroom-entity-card',
                                  'entity': sensor.entity_id }}},
                          {%- endfor %}
                      {%- endfor %}
  - title: Climate
    path: climate
    icon: mdi:thermometer
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;
                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px; 
                  background-color: var(--primary-color);     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Climate Control
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: AC
            show_icon: true
            icon: mdi:fan
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card {    
                  border-radius: 5px;
                }
            tap_action:
              action: navigate
              navigation_path: heating#
          - type: custom:button-card
            name: Climate
            show_icon: true
            icon: mdi:thermometer
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: climate#
      - type: custom:gap-card
        height: 25
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Temperature & Humidity Charts
            icon: mdi:chart-areaspline
            styles:
              card:
                - height: 65px
                - max-height: 65px
                - padding: 10px
                - margin: 0
                - background: >-
                    linear-gradient(to right, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
            card_mod:
              style: |
                ha-card {
                  height: 65px;
                  max-height: 65px;
                  padding: 0;
                  margin: 0;
                  background: var(--primary-color);
                  border-radius: 20px 20px 5px 5px;
                }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:tabbed-card
          tabs:
            - attributes:
                label: Temperature
                icon: mdi:thermometer
              card:
                type: custom:auto-entities
                card:
                  type: statistics-graph
                  chart_type: line
                  title: Temperature Graph
                  stat_types:
                    - mean
                  period: hour
                  days_to_show: 2
                  hide_legend: true
                filter:
                  include:
                    - domain: sensor
                      attributes:
                        device_class: temperature
            - attributes:
                label: Humidity
                icon: mdi:water-percent
              card:
                type: custom:auto-entities
                card:
                  type: statistics-graph
                  chart_type: line
                  title: Humidity Graph
                  stat_types:
                    - mean
                  period: hour
                  days_to_show: 2
                  hide_legend: true
                filter:
                  include:
                    - domain: sensor
                      attributes:
                        device_class: humidity
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Temperature & Humidity Sensors
            icon: mdi:thermometer
            styles:
              card:
                - height: 65px
                - max-height: 65px
                - padding: 10px
                - margin: 0
                - background: >-
                    linear-gradient(to right, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
            card_mod:
              style: |
                ha-card {
                  height: 65px;
                  max-height: 65px;
                  padding: 0;
                  margin: 0;
                  background: var(--primary-color);
                  border-radius: 20px 20px 5px 5px;
                }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: entities
          filter:
            template: >-
              {% set area_filter = ['area1', 'area2'] %}

              {% set temp_filter = ['sensor.temperature_sensor_1',
              'sensor.temperature_sensor_2'] %}

              {% set humid_filter = ['sensor.humidity_sensor_1',
              'sensor.humidity_sensor_2'] %}

              {%- set areas = states.sensor
                | selectattr('attributes.device_class', 'in', ['temperature', 'humidity'])
                | rejectattr('entity_id', 'in', temp_filter + humid_filter)
                | map(attribute='entity_id')
                | map('area_name') | unique | reject('none') 
                | reject('in', area_filter)
                | list -%}
              {%- for area in areas -%}
                {% set temperatures = states.sensor
                  | selectattr('attributes.device_class', 'eq', 'temperature')
                  | rejectattr('entity_id', 'in', temp_filter)
                  | selectattr('entity_id', 'in', area_entities(area))
                  | list -%}
                {% set humidities = states.sensor
                  | selectattr('attributes.device_class', 'eq', 'humidity')
                  | rejectattr('entity_id', 'in', humid_filter)
                  | selectattr('entity_id', 'in', area_entities(area))
                  | list -%}                
                {{{ 'type': 'custom:button-card',
                    'name': area,
                    'icon' : 'mdi:water-thermometer',
                    'styles': {
                      'card': [
                        { 'height:': '65px'},
                        { 'padding': '0'},
                        { 'margin': '0'},
                        { 'max-height:': '65px'},
                        { 'border-radius': '100px 10px 100px 10px'}
                      ],
                      'icon': [
                        { 'width': '30px'},
                        { 'height': '30px'},
                        { 'padding': '13px'},
                        { 'margin': '20px'},                
                        { 'left': '20px'},
                        { 'position': 'absolute'},
                        { 'border-radius': '20px'},
                        { 'background-color': 'var(--accent-color)'}
                      ],
                      'name': [
                        { 'left': '70px'},
                        { 'position': 'absolute'},
                        { 'text-align': 'left'},
                        { 'width': '40%'},
                        { 'padding': '10px'},
                        { 'margin': '10px'}, 
                        { 'font-weight': 'bold'},
                        { 'border-radius': '10px 10px 100px 10px'},
                        { 'background-color': 'var(--accent-color)'}
                      ],
                    },
                    'card_mod': {
                      'style': [
                        'ha-card {',                
                        '  max-height: 65px;',
                        '  height: 65px;',
                        '  padding: 0px;',
                        '  margin:: 0px;',
                        '  background: linear-gradient(to right, var(--accent-color), transparent);',
                        '}'
                      ] | join('\n')
                    },
                }}},

                  {%- for sensor in temperatures -%}
                      {{{ 'type': 'custom:mushroom-entity-card',
                          'entity': sensor.entity_id,
                          'icon_color': 'primary',}}},
                  {%- endfor %}
                  {%- for sensor in humidities -%}
                      {{{ 'type': 'custom:mushroom-entity-card',
                          'entity': sensor.entity_id }}},
                  {%- endfor %}
              {%- endfor %}
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Humidifiers
            icon: mdi:air-humidifier
            styles:
              card:
                - height: 65px
                - max-height: 65px
                - padding: 10px
                - margin: 0
                - background: >-
                    linear-gradient(to right, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
            card_mod:
              style: |
                ha-card {
                  height: 65px;
                  max-height: 65px;
                  padding: 0;
                  margin: 0;
                  background: var(--primary-color);
                  border-radius: 20px 20px 5px 5px;
                }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: entities
          filter:
            template: >-
              {% set area_filter = ['area1', 'area2'] %}

              {% set humidifier_filter = ['humidifier.humidifier_1', 
              'humidifier.humidifier_2'] %}

              {%- set areas = states.humidifier
                | rejectattr('entity_id', 'in', humidifier_filter)
                | map(attribute='entity_id')
                | map('area_name') | unique | reject('none') 
                | reject('in', area_filter)
                | list -%}
              {%- for area in areas -%}
                {% set humidifiers = states.humidifier
                  | rejectattr('entity_id', 'in', humidifier_filter)
                  | selectattr('entity_id', 'in', area_entities(area))
                  | list -%}
                  {{{ 'type': 'custom:button-card',
                      'name': area,
                      'icon' : 'mdi:air-humidifier',
                      'styles': {
                        'card': [
                          { 'height:': '65px'},
                          { 'padding': '0'},
                          { 'margin': '0'},
                          { 'max-height:': '65px'},
                          { 'border-radius': '40px 20px 5px 5px'}
                        ],
                        'icon': [
                          { 'width': '30px'},
                          { 'left': '15px'},
                          { 'position': 'absolute'}
                        ],
                        'name': [
                          { 'left': '50px'},
                          { 'position': 'absolute'},
                          { 'text-align': 'left'},
                          { 'width': '70%'}
                        ],
                      },
                      'card_mod': {
                        'style': [
                          'ha-card {',                
                          '  max-height: 65px;',
                          '  height: 65px;',
                          '  padding: 0px;',
                          '  margin:: 0px;',
                          '  background: linear-gradient(to right, var(--accent-color), transparent);',
                          '}'
                        ] | join('\n')
                      },
                  }}},

                {%- for device in humidifiers -%}
                  {{{ 'type': 'custom:mushroom-humidifier-card',
                      'entity': device.entity_id }}},
                {%- endfor %}
              {%- endfor %}
  - title: Security
    path: cameras
    icon: mdi:shield
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;       
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;  
                  background-color: var(--primary-color);           
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Security
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:tabbed-card
          styles: null
          '--mdc-theme-primary': yellow
          '--mdc-tab-text-label-color-default': orange
          tabs:
            - attributes:
                label: Alarm
                icon: mdi:shield
              card:
                type: custom:mod-card
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --ha-card-border-width: 0;
                        --ha-card-border-radius: 20px;
                        --ha-card-background: transparent;
                      }
                card:
                  type: horizontal-stack
                  cards:
                    - states:
                        - arm_home
                        - arm_away
                      type: alarm-panel
                      entity: alarm_control_panel.alarmo
                      name: Alarm
            - attributes:
                label: Cameras
                icon: mdi:cctv
              card:
                type: custom:mod-card
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --ha-card-border-radius: 20px;
                      }
                card:
                  type: custom:auto-entities
                  filter:
                    include:
                      - domain: camera
                        options:
                          type: picture-entity
                          camera_view: live
                          show_state: false
                          show_name: false
                  card:
                    type: grid
                    square: false
                    columns: 1
                    card_mod: null
                    style: null
                  card_param: cards
            - attributes:
                label: Openings
                icon: mdi:door-closed
              card:
                type: custom:mod-card
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --ha-card-border-width: 0;
                        --ha-card-border-radius: 20px;
                        --ha-card-background: transparent;
                      }
                card:
                  type: custom:mod-card
                  card_mod:
                    style:
                      .: |
                        ha-card {
                          --ha-card-border-width: 0;
                          --ha-card-border-radius: 20px;
                          --ha-card-background: transparent;
                        }
                  card:
                    type: custom:auto-entities
                    card:
                      type: entities
                    filter:
                      template: >-
                        {% set area_filter = ['area1', 'area2'] %}

                        {% set door_filter = ['binary_sensor.door_sensor_1', 
                        'binary_sensor.door_sensor_2'] %}

                        {% set window_filter = ['binary_sensor.window_sensor_1',
                        'binary_sensor.window_sensor_2'] %}

                        {%- set areas = states.binary_sensor
                          | selectattr('attributes.device_class', 'in', ['door', 'window'])
                          | rejectattr('entity_id', 'in', door_filter + window_filter)
                          | map(attribute='entity_id')
                          | map('area_name') | unique | reject('none') 
                          | reject('in', area_filter)
                          | list -%}
                        {%- for area in areas -%}
                          {% set doors = states.binary_sensor
                            | selectattr('attributes.device_class', 'eq', 'door')
                            | rejectattr('entity_id', 'in', door_filter)
                            | selectattr('entity_id', 'in', area_entities(area))
                            | list -%}
                          {% set windows = states.binary_sensor
                            | selectattr('attributes.device_class', 'eq', 'window')
                            | rejectattr('entity_id', 'in', window_filter)
                            | selectattr('entity_id', 'in', area_entities(area))
                            | list -%}

                                   {{{ 'type': 'custom:button-card',
                              'name': area,
                              'icon' : 'mdi:water-thermometer',
                              'styles': {
                                'card': [
                                  { 'height:': '65px'},
                                  { 'padding': '0'},
                                  { 'margin': '0'},
                                  { 'max-height:': '65px'},
                                  { 'border-radius': '100px 10px 100px 10px'}
                                ],
                                'icon': [
                                  { 'width': '30px'},
                                  { 'height': '30px'},
                                  { 'padding': '13px'},
                                  { 'margin': '20px'},                
                                  { 'left': '20px'},
                                  { 'position': 'absolute'},
                                  { 'border-radius': '20px'},
                                  { 'background-color': 'var(--accent-color)'}
                                ],
                                'name': [
                                  { 'left': '70px'},
                                  { 'position': 'absolute'},
                                  { 'text-align': 'left'},
                                  { 'width': '40%'},
                                  { 'padding': '10px'},
                                  { 'margin': '10px'}, 
                                  { 'font-weight': 'bold'},
                                  { 'border-radius': '10px 10px 100px 10px'},
                                  { 'background-color': 'var(--accent-color)'}
                                ],
                              },
                              'card_mod': {
                                'style': [
                                  'ha-card {',                
                                  '  max-height: 65px;',
                                  '  height: 65px;',
                                  '  padding: 0px;',
                                  '  margin:: 0px;',
                                  '  background: linear-gradient(to right, var(--accent-color), transparent);',
                                  '}'
                                ] | join('\n')
                              },
                          }}},


                          {%- for sensor in doors -%}
                            {{{ 'type': 'custom:mushroom-entity-card',
                                'entity': sensor.entity_id }}},
                          {%- endfor %}
                          {%- for sensor in windows -%}
                            {{{ 'type': 'custom:mushroom-entity-card',
                                'entity': sensor.entity_id }}},
                          {%- endfor %}
                        {%- endfor %}
            - attributes:
                label: Locks
                icon: mdi:lock
              card:
                type: custom:mod-card
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --ha-card-border-width: 0;
                        --ha-card-border-radius: 20px;
                        --ha-card-background: transparent;
                      }
                card:
                  type: custom:auto-entities
                  card:
                    type: entities
                  filter:
                    template: >-
                      {% set area_filter = ['area1', 'area2'] %}

                      {% set lock_filter = ['binary_sensor.lock_sensor_1', 
                      'binary_sensor.lock_sensor_2'] %}

                      {%- set areas = states.binary_sensor
                        | selectattr('attributes.device_class', 'eq', 'lock')
                        | rejectattr('entity_id', 'in', lock_filter)
                        | map(attribute='entity_id')
                        | map('area_name') | unique | reject('none') 
                        | reject('in', area_filter)
                        | list -%}
                      {%- for area in areas -%}
                        {% set locks = states.binary_sensor
                          | selectattr('attributes.device_class', 'eq', 'lock')
                          | rejectattr('entity_id', 'in', lock_filter)
                          | selectattr('entity_id', 'in', area_entities(area))
                          | list -%}

                        {{{ 'type': 'custom:button-card',
                            'name': area,
                            'icon' : 'mdi:lock',
                            'styles': {
                              'card': [
                                { 'height:': '65px'},
                                { 'padding': '0'},
                                { 'margin': '0'},
                                { 'max-height:': '65px'},
                                { 'border-radius': '40px 20px 5px 5px'}
                              ],
                              'icon': [
                                { 'width': '30px'},
                                { 'left': '15px'},
                                { 'position': 'absolute'}
                              ],
                              'name': [
                                { 'left': '50px'},
                                { 'position': 'absolute'},
                                { 'text-align': 'left'},
                                { 'width': '70%'}
                              ],
                            },
                            'card_mod': {
                              'style': [
                                'ha-card {',                
                                '  max-height: 65px;',
                                '  height: 65px;',
                                '  padding: 0px;',
                                '  margin:: 0px;',
                                '  background: linear-gradient(to right, var(--accent-color), transparent);',
                                '}'
                              ] | join('\n')
                            },
                        }}},

                        {%- for sensor in locks -%}
                          {{{ 'type': 'custom:mushroom-lock-card',
                              'entity': sensor.entity_id }}},
                        {%- endfor %}
                      {%- endfor %}
  - title: Security - Cameras
    path: securityCameras
    layout:
      max_width: 2000
      max_cols: 1
    type: custom:horizontal-layout
    icon: mdi:shield
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;       
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;  
                  background-color: var(--primary-color);           
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Security
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Alarm
            show_icon: true
            icon: mdi:shield
            show_name: true
            styles:
              card:
                - height: 65px
                - padding: 0
                - margin: 10px 5px
                - max-height: 65px
                - border-radius: 20px
                - box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16)
                - transition: transform 0.3s ease, box-shadow 0.3s ease
              icon:
                - width: 30px
                - height: 30px
                - margin: auto
                - padding-top: 17.5px
                - color: var(--text-primary-color)
                - transition: color 0.3s ease
            card_mod:
              style: |
                ha-card {
                  border: 2px solid var(--primary-color);
                }
                ha-card:hover {
                  transform: scale(1.05);  # Slightly enlarge on hover
                  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);
                }
                ha-card[selected] {
                  background-color: var(--accent-color);
                  animation: pulse 1.5s infinite;  # Pulse animation for selected card
                }
                @keyframes pulse {
                  0% { transform: scale(1.0); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1.0); }
                }
            tap_action:
              action: navigate
              navigation_path: cameras#
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:cctv
            show_name: true
            styles:
              card:
                - height: 65px
                - padding: 0
                - margin: 10px 5px
                - max-height: 65px
                - border-radius: 20px
                - box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16)
                - background-color: var(--button-background-color, var(--primary-color))
                - transition: transform 0.3s ease, box-shadow 0.3s ease
              icon:
                - width: 30px
                - height: 30px
                - margin: auto
                - padding-top: 17.5px
                - color: var(--text-primary-color)
                - transition: color 0.3s ease
            card_mod:
              style: |
                ha-card {
                  border: 2px solid var(--primary-color);
                  background: linear-gradient(to right, var(--accent-color), var(--primary-color));
                }
                ha-card:hover {
                  transform: scale(1.05);  # Slightly enlarge on hover
                  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);
                }
                ha-card[selected] {
                  background-color: var(--accent-color);
                  animation: pulse 1.5s infinite;  # Pulse animation for selected card
                }
                @keyframes pulse {
                  0% { transform: scale(1.0); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1.0); }
                }
            tap_action:
              action: navigate
              navigation_path: securityCameras#
          - type: custom:button-card
            name: Openings
            show_icon: true
            icon: mdi:door-closed
            show_name: true
            styles:
              card:
                - height: 65px
                - padding: 0
                - margin: 10px 5px
                - max-height: 65px
                - border-radius: 20px
                - box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16)
                - transition: transform 0.3s ease, box-shadow 0.3s ease
              icon:
                - width: 30px
                - height: 30px
                - margin: auto
                - padding-top: 17.5px
                - color: var(--text-primary-color)
                - transition: color 0.3s ease
            card_mod:
              style: |
                ha-card {
                  border: 2px solid var(--primary-color);

                }
                ha-card:hover {
                  transform: scale(1.05);  # Slightly enlarge on hover
                  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);
                }
                ha-card[selected] {
                  background-color: var(--accent-color);
                  animation: pulse 1.5s infinite;  # Pulse animation for selected card
                }
                @keyframes pulse {
                  0% { transform: scale(1.0); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1.0); }
                }
            tap_action:
              action: navigate
              navigation_path: securityOpenings#
      - type: custom:gap-card
        height: 25
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 0px) and (max-width: 767px)'
        card:
          type: custom:mod-card
          card_mod:
            style:
              .: |
                ha-card {
                  --ha-card-border-radius: 20px;
                }
          card:
            type: custom:auto-entities
            filter:
              include:
                - domain: camera
                  options:
                    type: picture-entity
                    camera_view: live
                    show_state: false
                    show_name: false
            card:
              type: grid
              square: false
              columns: 1
              card_mod: null
              style: null
            card_param: cards
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: custom:mod-card
          card_mod:
            style:
              .: |
                ha-card {
                  --ha-card-border-radius: 20px;
                }
          card:
            type: custom:auto-entities
            filter:
              include:
                - domain: camera
                  options:
                    type: picture-entity
                    camera_view: live
                    show_state: false
                    show_name: false
            card:
              type: grid
              square: false
              columns: >
                {% set camera_count = states.camera | selectattr('entity_id',
                'in', state_attr('group.all_cameras', 'entity_id')) | list |
                count %} {% if camera_count > 3 %}
                  3
                {% else %}
                  {{ camera_count }}
                {% endif %}
              card_mod: null
              style: null
            card_param: cards
  - title: Security - Openings
    path: securityOpenings
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    icon: mdi:shield
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;       
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;  
                  background-color: var(--primary-color);           
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Security
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Alarm
            show_icon: true
            icon: mdi:shield
            show_name: true
            styles:
              card:
                - height: 65px
                - padding: 0
                - margin: 10px 5px
                - max-height: 65px
                - border-radius: 20px
                - box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16)
                - transition: transform 0.3s ease, box-shadow 0.3s ease
              icon:
                - width: 30px
                - height: 30px
                - margin: auto
                - padding-top: 17.5px
                - color: var(--text-primary-color)
                - transition: color 0.3s ease
            card_mod:
              style: |
                ha-card {
                  border: 2px solid var(--primary-color);
                }
                ha-card:hover {
                  transform: scale(1.05);  # Slightly enlarge on hover
                  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);
                }
                ha-card[selected] {
                  background-color: var(--accent-color);
                  animation: pulse 1.5s infinite;  # Pulse animation for selected card
                }
                @keyframes pulse {
                  0% { transform: scale(1.0); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1.0); }
                }
            tap_action:
              action: navigate
              navigation_path: cameras#
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:cctv
            show_name: true
            styles:
              card:
                - height: 65px
                - padding: 0
                - margin: 10px 5px
                - max-height: 65px
                - border-radius: 20px
                - box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16)
                - transition: transform 0.3s ease, box-shadow 0.3s ease
              icon:
                - width: 30px
                - height: 30px
                - margin: auto
                - padding-top: 17.5px
                - color: var(--text-primary-color)
                - transition: color 0.3s ease
            card_mod:
              style: |
                ha-card {
                  border: 2px solid var(--primary-color);
                }
                ha-card:hover {
                  transform: scale(1.05);  # Slightly enlarge on hover
                  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);
                }
                ha-card[selected] {
                  background-color: var(--accent-color);
                  animation: pulse 1.5s infinite;  # Pulse animation for selected card
                }
                @keyframes pulse {
                  0% { transform: scale(1.0); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1.0); }
                }
            tap_action:
              action: navigate
              navigation_path: securityCameras#
          - type: custom:button-card
            name: Openings
            show_icon: true
            icon: mdi:door-closed
            show_name: true
            styles:
              card:
                - height: 65px
                - padding: 0
                - margin: 10px 5px
                - max-height: 65px
                - border-radius: 20px
                - box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16)
                - background-color: var(--button-background-color, var(--primary-color))
                - transition: transform 0.3s ease, box-shadow 0.3s ease
              icon:
                - width: 30px
                - height: 30px
                - margin: auto
                - padding-top: 17.5px
                - color: var(--text-primary-color)
                - transition: color 0.3s ease
            card_mod:
              style: |
                ha-card {
                  border: 2px solid var(--primary-color);
                  background: linear-gradient(to right, var(--accent-color), var(--primary-color));
                }
                ha-card:hover {
                  transform: scale(1.05);  # Slightly enlarge on hover
                  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);
                }
                ha-card[selected] {
                  background-color: var(--accent-color);
                  animation: pulse 1.5s infinite;  # Pulse animation for selected card
                }
                @keyframes pulse {
                  0% { transform: scale(1.0); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1.0); }
                }
            tap_action:
              action: navigate
              navigation_path: securityOpenings#
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Covers
        icon: mdi:curtains
        styles:
          card:
            - height: 65px
            - padding: 0
            - margin: 0
            - max-height: 65px
            - border-radius: 25px 10px 100px 10px
          icon:
            - width: 30px
            - height: 30px
            - padding: 13px
            - margin: 20px
            - left: 20px
            - position: absolute
            - border-radius: 20px
            - background-color: var(--accent-color)
          name:
            - left: 70px
            - position: absolute
            - width: 40%
            - padding: 10px
            - margin: 10px
            - font-weight: bold
            - border-radius: 10px 10px 100px 10px
            - background-color: var(--accent-color)
        card_mod:
          style: |
            ha-card {
              max-height: 65px;
              height: 65px;
              padding: 0px;
              margin: 0px;
              background: linear-gradient(to right, var(--accent-color), transparent);
            }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: grid
            columns: 1
            square: false
          card_param: cards
          unique: entity
          filter:
            include:
              - entity_id: cover.*
                options:
                  type: tile
                  features:
                    - type: cover-open-close
                  icon_tap_action:
                    action: more-info
                  tap_action:
                    action: toggle
                  color: var(--switch-entity-color)
          sort:
            method: entity_id
            ignore_case: true
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: entities
          filter:
            template: >-
              {% set area_filter = ['area1', 'area2'] %}

              {% set door_filter = ['binary_sensor.door_sensor_1', 
              'binary_sensor.door_sensor_2'] %}

              {% set window_filter = ['binary_sensor.window_sensor_1',
              'binary_sensor.window_sensor_2'] %}

              {%- set areas = states.binary_sensor
                | selectattr('attributes.device_class', 'in', ['door', 'window'])
                | rejectattr('entity_id', 'in', door_filter + window_filter)
                | map(attribute='entity_id')
                | map('area_name') | unique | reject('none') 
                | reject('in', area_filter)
                | list -%}
              {%- for area in areas -%}
                {% set doors = states.binary_sensor
                  | selectattr('attributes.device_class', 'eq', 'door')
                  | rejectattr('entity_id', 'in', door_filter)
                  | selectattr('entity_id', 'in', area_entities(area))
                  | list -%}
                {% set windows = states.binary_sensor
                  | selectattr('attributes.device_class', 'eq', 'window')
                  | rejectattr('entity_id', 'in', window_filter)
                  | selectattr('entity_id', 'in', area_entities(area))
                  | list -%}

                         {{{ 'type': 'custom:button-card',
                    'name': area,
                    'icon' : 'mdi:water-thermometer',
                    'styles': {
                      'card': [
                        { 'height:': '65px'},
                        { 'padding': '0'},
                        { 'margin': '0'},
                        { 'max-height:': '65px'},
                        { 'border-radius': '100px 10px 100px 10px'}
                      ],
                      'icon': [
                        { 'width': '30px'},
                        { 'height': '30px'},
                        { 'padding': '13px'},
                        { 'margin': '20px'},                
                        { 'left': '20px'},
                        { 'position': 'absolute'},
                        { 'border-radius': '20px'},
                        { 'background-color': 'var(--accent-color)'}
                      ],
                      'name': [
                        { 'left': '70px'},
                        { 'position': 'absolute'},
                        { 'text-align': 'left'},
                        { 'width': '40%'},
                        { 'padding': '10px'},
                        { 'margin': '10px'}, 
                        { 'font-weight': 'bold'},
                        { 'border-radius': '10px 10px 100px 10px'},
                        { 'background-color': 'var(--accent-color)'}
                      ],
                    },
                    'card_mod': {
                      'style': [
                        'ha-card {',                
                        '  max-height: 65px;',
                        '  height: 65px;',
                        '  padding: 0px;',
                        '  margin:: 0px;',
                        '  background: linear-gradient(to right, var(--accent-color), transparent);',
                        '}'
                      ] | join('\n')
                    },
                }}},


                {%- for sensor in doors -%}
                  {{{ 'type': 'custom:mushroom-entity-card',
                      'entity': sensor.entity_id }}},
                {%- endfor %}
                {%- for sensor in windows -%}
                  {{{ 'type': 'custom:mushroom-entity-card',
                      'entity': sensor.entity_id }}},
                {%- endfor %}
              {%- endfor %}
  - title: Multimedia
    path: multimedia
    icon: mdi:multimedia
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Security
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                  background-color: var(--primary-color);
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Media Control
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: entities
          filter:
            template: >-
              {% set area_filter = ['area1', 'area2'] %}

              {# Filter for media player devices #} {% set media_filter =
              states.media_player | map(attribute='entity_id') | list %}

              {%- set areas = states.media_player
                | map(attribute='entity_id')
                | map('area_name') | unique | reject('none') 
                | reject('in', area_filter)
                | list -%}

              {%- for area in areas -%}
                {% set media_devices = states.media_player
                  | selectattr('entity_id', 'in', media_filter)
                  | selectattr('entity_id', 'in', area_entities(area)) | list -%}

                {{{ 'type': 'custom:button-card',
                    'name': area,
                    'icon' : 'mdi:water-thermometer',
                    'styles': {
                      'card': [
                        { 'height:': '65px'},
                        { 'padding': '0'},
                        { 'margin': '0'},
                        { 'max-height:': '65px'},
                        { 'border-radius': '100px 10px 100px 10px'}
                      ],
                      'icon': [
                        { 'width': '30px'},
                        { 'height': '30px'},
                        { 'padding': '13px'},
                        { 'margin': '20px'},                
                        { 'left': '20px'},
                        { 'position': 'absolute'},
                        { 'border-radius': '20px'},
                        { 'background-color': 'var(--accent-color)'}
                      ],
                      'name': [
                        { 'left': '70px'},
                        { 'position': 'absolute'},
                        { 'text-align': 'left'},
                        { 'width': '40%'},
                        { 'padding': '10px'},
                        { 'margin': '10px'}, 
                        { 'font-weight': 'bold'},
                        { 'border-radius': '10px 10px 100px 10px'},
                        { 'background-color': 'var(--accent-color)'}
                      ],
                    },
                    'card_mod': {
                      'style': [
                        'ha-card {',                
                        '  max-height: 65px;',
                        '  height: 65px;',
                        '  padding: 0px;',
                        '  margin:: 0px;',
                        '  background: linear-gradient(to right, var(--accent-color), transparent);',
                        '}'
                      ] | join('\n')
                    },
                }}},
                {%- for device in media_devices -%}
                  {{{ 'type': 'custom:mushroom-media-player-card',
                      'volume_controls': ['volume_mute', 'volume_set', 'volume_buttons'],
                      'media_controls': ['on_off', 'shuffle', 'previous', 'play_pause_stop', 'next', 'repeat'],
                      'entity': device.entity_id }}},
                {%- endfor %}
              {%- endfor %}
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          show_empty: true
          card:
            type: entities
          filter:
            template: >-
              {%- set
              speakers=expand(integration_entities("sonos"))|selectattr("domain","eq","media_player")|map(attribute="entity_id")|list
              %} [ {% for speaker in expand(speakers) if
              speaker.attributes.group_members[0] == speaker.entity_id %} {%-
              set speaker_group = namespace(entities=[]) %} {%- for member in
              speakers if member!=speaker.entity_id %} {%- set
              speaker_group.entities=speaker_group.entities+[{'entity_id' :
              member,'name': state_attr(member,'friendly_name')}] %} {%- endfor
              %}
                   {{
                      {
                        'type': 'custom:mini-media-player',
                        'entity' : speaker.entity_id,
                        'artwork' : 'cover',
                        'group': false,
                        'hide': {
                          'power': true,
                          'icon': true,
                          'source': true
                        },
                        'speaker_group': {
                          'platform': 'sonos',
                          'sync_volume': true,
                          'show_group_count': true,
                          'entities': speaker_group.entities
                        }
                      }
                   }},
              {%- endfor %} ]
  - title: Automation control
    path: settings
    icon: mdi:cog
    type: custom:masonry-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;           
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                  background-color: var(--primary-color);  
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Actions
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Actions
            show_icon: true
            icon: mdi:hand-pointing-up
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card {    
                  border-radius: 5px;
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings2#
          - type: custom:button-card
            name: Statistics
            show_icon: true
            icon: mdi:chart-bar-stacked
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings3#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Logs
            show_icon: true
            icon: mdi:book-open
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings4#
      - type: custom:gap-card
        height: 25
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: House Mode
            show_icon: true
            icon: mdi:warehouse
            show_name: true
            styles:
              card:
                - height: 65px
                - padding: 0
                - margin: 0
                - max-height: 65px
                - border-radius: 100px 10px 100px 10px
              icon:
                - width: 30px
                - height: 30px
                - padding: 13px
                - margin: 20px
                - left: 20px
                - position: absolute
                - border-radius: 20px
                - background-color: var(--accent-color)
              name:
                - left: 70px
                - position: absolute
                - width: 40%
                - padding: 10px
                - margin: 10px
                - font-weight: bold
                - border-radius: 10px 10px 100px 10px
                - background-color: var(--accent-color)
            card_mod:
              style: |
                ha-card {
                  max-height: 65px;
                  height: 65px;
                  padding: 0px;
                  margin: 0px;
                  background: linear-gradient(to right, var(--accent-color), transparent);

                }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: User Mode
            show_icon: true
            icon: mdi:account-check
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                }  
          - type: custom:button-card
            name: Guest Mode
            show_icon: true
            icon: mdi:account-supervisor
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius:5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
      - type: custom:gap-card
        height: 25
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Available Updates
            show_icon: true
            icon: mdi:update
            show_name: true
            styles:
              card:
                - height: 65px
                - padding: 0
                - margin: 0
                - max-height: 65px
                - border-radius: 100px 10px 100px 10px
              icon:
                - width: 30px
                - height: 30px
                - padding: 13px
                - margin: 20px
                - left: 20px
                - position: absolute
                - border-radius: 20px
                - background-color: var(--accent-color)
              name:
                - left: 70px
                - position: absolute
                - width: 40%
                - padding: 10px
                - margin: 10px
                - font-weight: bold
                - border-radius: 10px 10px 100px 10px
                - background-color: var(--accent-color)
            card_mod:
              style: |
                ha-card {
                  max-height: 65px;
                  height: 65px;
                  padding: 0px;
                  margin: 0px;
                  background: linear-gradient(to right, var(--accent-color), transparent);

                }
      - type: custom:auto-entities
        filter:
          include:
            - domain: update
              state: 'on'
              options:
                type: custom:mushroom-update-card
                show_buttons_control: true
                layout: horizontal
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        visibility: hidden;
                      }
                      .secondary:before {
                        visibility: visible;
                        content: "{{ state_attr(config.entity, 'installed_version')}}  {{ state_attr(config.entity, 'latest_version')}}";
                      }
                    .: |
                      ha-card {
                        --secondary-text-color: white;
                      }
        sort:
          method: friendly_name
        card_param: cards
        card:
          type: vertical-stack
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                entity: null
                icon: mdi:battery
                icon_color: green
                content: Batteries
                card_mod:
                  style: |
                    ha-card {
                      background: transparent;
                      border-style: none;
                    }
          - type: custom:auto-entities
            card:
              type: custom:stack-in-card
              card_mod:
                style: |
                  ha-card {
                    padding-top: 5px;
                    padding-bottom: 0px;
                    border-width: 0px;
                    background: none;
                    --ha-card-box-shadow: 0px;
                  }
            filter:
              include:
                - entity_id: sensor.*battery
                  options:
                    type: custom:bar-card
                    card_mod:
                      style: |
                        bar-card-currentbar, bar-card-backgroundbar {
                          border-radius: 12px !important;
                          height: 41px !important;
                          margin-top: -8px !important;
                          width: 101%;
                          right: 0.5%;
                        }
                        ha-icon {
                          position: relative;
                          padding: 11px;
                          border-radius: 50%;
                          --mdc-icon-size: 21px;
                          margin-top: -15px;
                          right: 4px;
                        }
                        bar-card-row, ha-icon {
                          color: color-mix(in srgb, var(--bar-color) 100%, transparent) !important;
                          background: color-mix(in srgb, var(--bar-color) 20%, transparent);
                        }
                        bar-card-indicator {
                          color: color-mix(in srgb, var(--bar-color) 100%, transparent) !important;
                          top: -8px;
                        } 
                        bar-card-name {
                          margin-top: -27px !important;
                          left: 0px;
                          color: black;
                        }
                        bar-card-value {
                          margin-top: 8px !important;
                          font-size: 11px;
                          right: 96.9%;
                          width: 0px;
                          color: black;
                        }
                        ha-card {
                          margin: -4px 0px !important;
                          height: 60px;
                        }
                        bar-card-row bar-card-currentbar,
                        ha-icon, bar-card-backgroundbar {
                          --bar-color:
                          {% if states(config.entity) == 'unavailable' or states(config.entity) == 'none' %}
                            blue !important;
                            --card-mod-icon: mdi:bug !important;
                          {% elif states(config.entity) | int <= 10 %}
                            #ff0026 !important;
                            --card-mod-icon: mdi:battery-10 !important;
                          {% elif states(config.entity) | int <= 20 %}
                            #ff4d00 !important;
                            --card-mod-icon: mdi:battery-20 !important;
                          {% elif states(config.entity) | int <= 30 %}
                            #ff9900 !important;
                            --card-mod-icon: mdi:battery-30 !important;
                          {% elif states(config.entity) | int <= 40 %}
                            #ffcc00 !important;
                            --card-mod-icon: mdi:battery-40 !important;
                          {% elif states(config.entity) | int <= 50 %}
                            #e7fc03 !important;
                            --card-mod-icon: mdi:battery-50 !important;
                          {% elif states(config.entity) | int <= 60 %}
                            #aaff00 !important;
                            --card-mod-icon: mdi:battery-60 !important;
                          {% elif states(config.entity) | int <= 70 %}
                            #aaff00 !important;
                            --card-mod-icon: mdi:battery-70 !important;
                          {% elif states(config.entity) | int <= 80 %}
                            #22c402 !important;
                            --card-mod-icon: mdi:battery-80 !important;
                          {% elif states(config.entity) | int <= 90 %}
                            #22c402 !important;
                            --card-mod-icon: mdi:battery-90 !important;
                          {% elif states(config.entity) | int <= 100 %}
                            #22c402 !important;
                            --card-mod-icon: mdi:battery !important;
                          {% endif %}
                        }
                        bar-card-row ha-icon {
                          color: color-mix(in srgb, var(--bar-color) 100%, transparent);
                          background: color-mix(in srgb, var(--bar-color) 20%, transparent);
                        }
                        ha-card {
                          padding: 0px !important;
                          margin: -3px !important;
                          height: 60px;
                          border-width: 0px;
                          background: none;
                          --ha-card-box-shadow: 0px;
                        }
            sort:
              method: state
              numeric: true
              ip: false
              ignore_case: false
              reverse: false
            show_empty: true
            card_param: cards
  - title: Settings
    path: settings2
    icon: mdi:cog
    type: custom:masonry-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;           
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                  background-color: var(--primary-color);  
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Settings
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Actions
            show_icon: true
            icon: mdi:hand-pointing-up
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Statistics
            show_icon: true
            icon: mdi:chart-bar-stacked
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings3#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Logs
            show_icon: true
            icon: mdi:book-open
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings4#
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Automations
            show_icon: true
            icon: mdi:cog-clockwise
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsAutomations#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 5px 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Scenes
            show_icon: true
            icon: mdi:movie
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsPower#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Power
            show_icon: true
            icon: mdi:lightning-bolt
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsPower#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Misc
            show_icon: true
            icon: mdi:cog-clockwise
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settingsMisc#
      - type: custom:gap-card
        height: 25
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Ceate or Edit Scene
            show_icon: true
            icon: mdi:movie
            show_name: true
            styles:
              card:
                - height: 65px
                - max-height: 65px
                - padding: 10px
                - margin: 0
            card_mod:
              style: |
                ha-card {
                  height: 65px;
                  max-height: 65px;
                  padding: 0;
                  margin: 0;
                  border-radius: 10px;
                }
            tap_action:
              action: navigate
              navigation_path: /config/scene/dashboard
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - type: custom:auto-entities
              card:
                type: entities
                title: Scenes
                show_header_toggle: false
              filter:
                include:
                  - domain: scene
  - title: Statistics
    path: settings3
    icon: mdi:cog
    type: custom:masonry-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;           
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                  background-color: var(--primary-color);  
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Statistics
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Actions
            show_icon: true
            icon: mdi:hand-pointing-up
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings2#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Statistics
            show_icon: true
            icon: mdi:chart-bar-stacked
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Logs
            show_icon: true
            icon: mdi:book-open
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings4#
      - type: custom:gap-card
        height: 25
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Watcher
            show_icon: true
            icon: mdi:package
            show_name: false
            styles:
              card:
                - height: 100%
                - width: 50px
                - justify-content: center
                - align-items: center
                - background-color: var(--primary-color);
              icon:
                - scale: 2
              name:
                - color: black
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 30px 5px 5px 5px;
                }  
          - type: horizontal-stack
            cards:
              - type: entity
                entity: sensor.watchman_missing_entities
                name: Missing Entities
              - type: entity
                entity: sensor.watchman_missing_services
                name: Missing services
                card_mod:
                  style: |
                    ha-card{
                      border-radius: 5px 30px 5px 5px;
                    }  
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 30px 5px 5px;
                } 
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:web
            show_name: false
            styles:
              card:
                - height: 100%
                - width: 50px
                - justify-content: center
                - align-items: center
                - background-color: var(--primary-color);
              icon:
                - scale: 2
              name:
                - color: black
                - font-size: 20px
                - font-type: bold
          - type: custom:uptime-card
            entity: binary_sensor.internet
            hours_to_show: 96
            title_adaptive_color: true
            status_adaptive_color: true
            icon: mdi:web
            update_interval: 30
            severity: 10
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            alias:
              ok: Connected
              ko: Disconnected
            resources:
              - url: /local/uptime-card.js
              - type: module
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:home-analytics
            show_name: false
            styles:
              card:
                - height: 100%
                - width: 50px
                - justify-content: center
                - align-items: center
                - background-color: var(--primary-color);
              icon:
                - scale: 2
              name:
                - color: black
                - font-size: 20px
                - font-type: bold
          - type: custom:apexcharts-card
            apex_config:
              chart:
                height: 355px
            header:
              show: true
              title: System Monitor
              show_states: true
              colorize_states: true
            chart_type: radialBar
            series:
              - entity: sensor.home_assistant_core_cpu_percent
                name: Core CPU Percentage
                show:
                  in_chart: true
              - entity: sensor.home_assistant_core_memory_percent
                name: Core Memory Precentage
                show:
                  in_chart: true
              - entity: sensor.home_assistant_host_disk_free
                name: Host Disk Free (%)
                show:
                  in_header: true
                  in_chart: false
              - entity: sensor.home_assistant_host_disk_total
                name: Host Disk Total
                show:
                  in_chart: false
              - entity: sensor.home_assistant_supervisor_cpu_percent
                name: Supervisor CPU Usage (%)
                show:
                  in_chart: true
              - entity: sensor.home_assistant_supervisor_memory_percent
                name: Supervisor Memory Used (%)
                show:
                  in_header: false
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: History Explorer
            show_icon: true
            icon: mdi:book-open-page-variant
            show_name: false
            styles:
              card:
                - height: 100%
                - width: 50px
                - justify-content: center
                - align-items: center
                - background-color: var(--primary-color);
              icon:
                - scale: 2
              name:
                - color: black
                - font-size: 20px
                - font-type: bold
          - type: custom:history-explorer-card
            cardName: historycard-27961740
  - title: Logs
    path: settings4
    icon: mdi:cog
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;           
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                  background-color: var(--primary-color);  
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Logs
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Actions
            show_icon: true
            icon: mdi:hand-pointing-up
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings2#
          - type: custom:button-card
            name: Statistics
            show_icon: true
            icon: mdi:chart-bar-stacked
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings3#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Logs
            show_icon: true
            icon: mdi:book-open
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings4#
      - type: custom:gap-card
        height: 25
      - type: logbook
        entities:
          - sensor.active_doors
          - sensor.active_windows
          - sensor.active_motion_sensors
          - sensor.active_lights
          - sensor.active_water_sensors
          - sensor.active_smoke_detectors
        title: Logbook
  - title: Energy Testing
    path: power
    icon: mdi:lightning-bolt
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                  background-color: var(--primary-color)          
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Energy Control
      - type: custom:button-card
        name: Power Realtime Statistics
        icon: mdi:lightning-bolt
        styles:
          card:
            - height: 65px
            - padding: 0
            - margin: 0
            - max-height: 65px
            - border-radius: 100px 10px 100px 10px
          icon:
            - width: 30px
            - height: 30px
            - padding: 13px
            - margin: 20px
            - left: 20px
            - position: absolute
            - border-radius: 20px
            - background-color: var(--accent-color)
          name:
            - left: 70px
            - position: absolute
            - width: 40%
            - padding: 10px
            - margin: 10px
            - font-weight: bold
            - border-radius: 10px 10px 100px 10px
            - background-color: var(--accent-color)
        card_mod:
          style: |
            ha-card {
              max-height: 65px;
              height: 65px;
              padding: 0px;
              margin: 0px;
              background: linear-gradient(to right, var(--accent-color), transparent);

            }
      - type: custom:button-card
        styles:
          card:
            - height: 10px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - border-radius: 40px 40px 50px 5px
            - background: linear-gradient(to left, var(--accent-color), transparent)
        card_mod:
          style: |
            ha-card {
              border-radius: 40px 40px 500px 500px;
              height: 10px;
              max-height: 10px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - type: vertical-stack
              cards:
                - type: horizontal-stack
                  cards:
                    - type: horizontal-stack
                      cards:
                        - type: vertical-stack
                          cards:
                            - type: energy-distribution
                              link_dashboard: false
                              card_mod:
                                style: |
                                  ha-card{
                                    border-radius: 5px 5px 5px 5px;
                                  }  
      - graph: line
        type: sensor
        detail: 2
        entity: sensor.dynamic_power_sensor
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Power Usage Statistics
        icon: mdi:chart-bar
        styles:
          card:
            - height: 65px
            - padding: 0
            - margin: 0
            - max-height: 65px
            - border-radius: 100px 10px 100px 10px
          icon:
            - width: 30px
            - height: 30px
            - padding: 13px
            - margin: 20px
            - left: 20px
            - position: absolute
            - border-radius: 20px
            - background-color: var(--accent-color)
          name:
            - left: 70px
            - position: absolute
            - width: 40%
            - padding: 10px
            - margin: 10px
            - font-weight: bold
            - border-radius: 10px 10px 100px 10px
            - background-color: var(--accent-color)
        card_mod:
          style: |
            ha-card {
              max-height: 65px;
              height: 65px;
              padding: 0px;
              margin: 0px;
              background: linear-gradient(to right, var(--accent-color), transparent);

            }
      - type: custom:button-card
        styles:
          card:
            - height: 10px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - border-radius: 40px 40px 50px 5px
            - background: linear-gradient(to left, var(--accent-color), transparent)
        card_mod:
          style: |
            ha-card {
              border-radius: 40px 40px 500px 500px;
              height: 10px;
              max-height: 10px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - height: 200
              unit_prefix: k
              round: 1
              min_box_height: 5
              min_box_distance: 5
              show_states: true
              show_units: true
              energy_date_selection: true
              sections: []
              type: custom:sankey-chart
              autoconfig:
                print_yaml: false
              min_state: 0
              wide: true
              show_names: true
              show_icons: false
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Price and Estimated Hourly Usage
        icon: mdi:currency-usd
        styles:
          card:
            - height: 65px
            - padding: 0
            - margin: 0
            - max-height: 65px
            - border-radius: 100px 10px 100px 10px
          icon:
            - width: 30px
            - height: 30px
            - padding: 13px
            - margin: 20px
            - left: 20px
            - position: absolute
            - border-radius: 20px
            - background-color: var(--accent-color)
          name:
            - left: 70px
            - position: absolute
            - width: 40%
            - padding: 10px
            - margin: 10px
            - font-weight: bold
            - border-radius: 10px 10px 100px 10px
            - background-color: var(--accent-color)
        card_mod:
          style: |
            ha-card {
              max-height: 65px;
              height: 65px;
              padding: 0px;
              margin: 0px;
              background: linear-gradient(to right, var(--accent-color), transparent);

            }
      - type: horizontal-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: entity
                    entity: sensor.hourly_power_consumption
                    icon: mdi:electric-switch
                    name: Estimated Hourly Consumption
      - type: entity
        icon: mdi:current-ac
        entity: sensor.nordpool_kwh_krsand_nok_3_10_025
        name: Elecgtricity Price Now
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Current Power Level
        icon: mdi:current-ac
        styles:
          card:
            - height: 65px
            - padding: 0
            - margin: 0
            - max-height: 65px
            - border-radius: 100px 10px 100px 10px
          icon:
            - width: 30px
            - height: 30px
            - padding: 13px
            - margin: 20px
            - left: 20px
            - position: absolute
            - border-radius: 20px
            - background-color: var(--accent-color)
          name:
            - left: 70px
            - position: absolute
            - width: 40%
            - padding: 10px
            - margin: 10px
            - font-weight: bold
            - border-radius: 10px 10px 100px 10px
            - background-color: var(--accent-color)
        card_mod:
          style: |
            ha-card {
              max-height: 65px;
              height: 65px;
              padding: 0px;
              margin: 0px;
              background: linear-gradient(to right, var(--accent-color), transparent);

            }
      - type: horizontal-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: conditional
                conditions: []
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      name: Level 1
                      show_icon: true
                      icon: mdi:numeric-1-box
                      show_name: true
                      show_state: true
                      styles:
                        card:
                          - height: 150px
                          - justify-content: center
                          - align-items: center
                          - background: |
                              [[[
                                if (states['sensor.consumption_level_sensor'].state === 'Level 1 (0 - 2 kW)') {
                                  return 'green';
                                } else {
                                }
                              ]]]
                        icon:
                          - max-height: 100px
                          - max-width: 100px
                          - min-height: 20px
                          - min-width: 20px
                        name:
                          - font-size: 20px
                          - font-weight: bold
                    - type: custom:button-card
                      name: Level 2
                      show_icon: true
                      icon: mdi:numeric-2-box
                      show_name: true
                      show_state: true
                      styles:
                        card:
                          - height: 150px
                          - justify-content: center
                          - align-items: center
                          - background: |
                              [[[
                                if (states['sensor.consumption_level_sensor'].state === 'Level 2 (2 - 5 kW)') {
                                  return 'orange';
                                } else {
                                }
                              ]]]
                        icon:
                          - max-height: 100px
                          - max-width: 100px
                          - min-height: 20px
                          - min-width: 20px
                        name:
                          - font-size: 20px
                          - font-weight: bold
                    - type: custom:button-card
                      name: Level 3
                      show_icon: true
                      icon: mdi:numeric-3-box
                      show_name: true
                      show_state: true
                      styles:
                        card:
                          - height: 150px
                          - justify-content: center
                          - align-items: center
                          - background: |
                              [[[
                                if (states['sensor.consumption_level_sensor'].state === 'Level 3 (5 - 10 KW)') {
                                  return 'orange';
                                } else {
                                }
                              ]]]
                        icon:
                          - max-height: 100px
                          - max-width: 100px
                          - min-height: 20px
                          - min-width: 20px
                        name:
                          - font-size: 20px
                          - font-weight: bold
                    - type: custom:button-card
                      name: Level 4
                      show_icon: true
                      icon: mdi:numeric-4-box
                      show_name: true
                      show_state: true
                      styles:
                        card:
                          - height: 150px
                          - justify-content: center
                          - align-items: center
                          - background: |
                              [[[
                                if (states['sensor.consumption_level_sensor'].state === 'Level 4 (10 - 15 kW)') {
                                  return 'red';
                                } else {
                                }
                              ]]]
                        icon:
                          - max-height: 100px
                          - max-width: 100px
                          - min-height: 20px
                          - min-width: 20px
                        name:
                          - font-size: 20px
                          - font-weight: bold
                    - type: custom:button-card
                      name: Level 5
                      show_icon: true
                      icon: mdi:numeric-5-box
                      show_name: true
                      show_state: true
                      styles:
                        card:
                          - height: 150px
                          - justify-content: center
                          - align-items: center
                          - background: |
                              [[[
                                if (states['sensor.consumption_level_sensor'].state === 'Level 5 (15- 20 kW)') {
                                  return 'green';
                                } else {
                                }
                              ]]]
                        icon:
                          - max-height: 100px
                          - max-width: 100px
                          - min-height: 20px
                          - min-width: 20px
                        name:
                          - font-size: 20px
                          - font-weight: bold
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Billable Power Level
        icon: mdi:chart-bar
        styles:
          card:
            - height: 65px
            - padding: 0
            - margin: 0
            - max-height: 65px
            - border-radius: 100px 10px 100px 10px
          icon:
            - width: 30px
            - height: 30px
            - padding: 13px
            - margin: 20px
            - left: 20px
            - position: absolute
            - border-radius: 20px
            - background-color: var(--accent-color)
          name:
            - left: 70px
            - position: absolute
            - width: 40%
            - padding: 10px
            - margin: 10px
            - font-weight: bold
            - border-radius: 10px 10px 100px 10px
            - background-color: var(--accent-color)
        card_mod:
          style: |
            ha-card {
              max-height: 65px;
              height: 65px;
              padding: 0px;
              margin: 0px;
              background: linear-gradient(to right, var(--accent-color), transparent);

            }
      - type: horizontal-stack
        cards:
          - type: entity
            entity: counter.consumption_level_1_counter
            name: 0-2kW
          - type: entity
            entity: counter.consumption_level_2_counter
            name: 2-5kW
          - type: entity
            entity: counter.consumption_level_3_counter
            name: 5-10kW
          - type: entity
            entity: counter.consumption_level_4_counter
            name: 10-15kW
          - type: entity
            entity: counter.consumption_level_5_counter
            name: 15-20kW
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Hourly Nordpool Price and Power Usage
        icon: mdi:poll
        styles:
          card:
            - height: 65px
            - padding: 0
            - margin: 0
            - max-height: 65px
            - border-radius: 100px 10px 100px 10px
          icon:
            - width: 30px
            - height: 30px
            - padding: 13px
            - margin: 20px
            - left: 20px
            - position: absolute
            - border-radius: 20px
            - background-color: var(--accent-color)
          name:
            - left: 70px
            - position: absolute
            - width: 40%
            - padding: 10px
            - margin: 10px
            - font-weight: bold
            - border-radius: 10px 10px 100px 10px
            - background-color: var(--accent-color)
        card_mod:
          style: |
            ha-card {
              max-height: 65px;
              height: 65px;
              padding: 0px;
              margin: 0px;
              background: linear-gradient(to right, var(--accent-color), transparent);

            }
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:apexcharts-card
              apex_config:
                chart:
                  height: 400px
              hours_12: false
              header:
                show: true
                title: Nordpool Price -> 48 hours (MVA included)
                show_states: true
              now:
                show: true
                color: '#ff0000'
                label: Now
              graph_span: 2d
              span:
                start: day
              series:
                - entity: sensor.nordpool_kwh_krsand_nok_3_10_025
                  name: Today
                  unit: re/kWh
                  data_generator: |
                    return entity.attributes.raw_today.map((entry) => {
                      let color = '#00FF00'; // Default color (Green) for price below 0.85
                      if (entry.value > 0.85 && entry.value <= 1.50) {
                        color = '#FFA500'; // Orange for price between 0.85 and 1.50
                      } else if (entry.value > 1.50) {
                        color = '#FF0000'; // Red for price above 1.50
                      }
                      return {
                        x: new Date(entry.start),
                        y: entry.value * 100,
                        fillColor: color
                      };
                    });
                  type: column
                  show:
                    legend_value: true
                    in_header: false
                  extend_to: end
                - entity: sensor.nordpool_kwh_krsand_nok_3_10_025
                  name: Tomorrow
                  unit: re/kWh
                  data_generator: |
                    return entity.attributes.raw_tomorrow.map((entry) => {
                      let color = '#00FF00'; // Default color (Green) for price below 0.85
                      if (entry.value > 0.85 && entry.value <= 1.50) {
                        color = '#FFA500'; // Orange for price between 0.85 and 1.50
                      } else if (entry.value > 1.50) {
                        color = '#FF0000'; // Red for price above 1.50
                      }
                      return {
                        x: new Date(entry.start),
                        y: entry.value * 100,
                        fillColor: color
                      };
                    });
                  type: column
                  show:
                    legend_value: true
                    in_header: false
            - type: custom:apexcharts-card
              apex_config:
                chart:
                  height: 390px
              header:
                show: true
                title: Power Usage Per Hour
              experimental:
                color_threshold: true
              graph_span: 24h
              span:
                start: day
                offset: '-15hrs'
              series:
                - entity: sensor.dynamic_power_sensor
                  name: Power Usage
                  color_threshold:
                    - value: 2000
                      color: green
                      opacity: 1
                    - value: 4000
                      color: orange
                    - value: 6000
                      color: red
                    - value: 8000
                      color: black
                  type: column
                  group_by:
                    func: avg
                    duration: 60min
      - type: custom:tabbed-card
        options: {}
        tabs:
          - attributes:
              label: Nordpool Peice
              icon: mdi:pause
            card:
              type: custom:apexcharts-card
              apex_config:
                chart:
                  height: 400px
              hours_12: false
              header:
                show: true
                title: Nordpool Price -> 48 hours (MVA included)
                show_states: true
              now:
                show: true
                color: '#ff0000'
                label: Now
              graph_span: 2d
              span:
                start: day
              series:
                - entity: sensor.nordpool_kwh_krsand_nok_3_10_025
                  name: Today
                  unit: re/kWh
                  data_generator: |
                    return entity.attributes.raw_today.map((entry) => {
                      let color = '#00FF00'; // Default color (Green) for price below 0.85
                      if (entry.value > 0.85 && entry.value <= 1.50) {
                        color = '#FFA500'; // Orange for price between 0.85 and 1.50
                      } else if (entry.value > 1.50) {
                        color = '#FF0000'; // Red for price above 1.50
                      }
                      return {
                        x: new Date(entry.start),
                        y: entry.value * 100,
                        fillColor: color
                      };
                    });
                  type: column
                  show:
                    legend_value: true
                    in_header: false
                  extend_to: end
                - entity: sensor.nordpool_kwh_krsand_nok_3_10_025
                  name: Tomorrow
                  unit: re/kWh
                  data_generator: |
                    return entity.attributes.raw_tomorrow.map((entry) => {
                      let color = '#00FF00'; // Default color (Green) for price below 0.85
                      if (entry.value > 0.85 && entry.value <= 1.50) {
                        color = '#FFA500'; // Orange for price between 0.85 and 1.50
                      } else if (entry.value > 1.50) {
                        color = '#FF0000'; // Red for price above 1.50
                      }
                      return {
                        x: new Date(entry.start),
                        y: entry.value * 100,
                        fillColor: color
                      };
                    });
                  type: column
                  show:
                    legend_value: true
                    in_header: false
          - attributes:
              label: Usage
              icon: mdi:pause
            card:
              type: custom:apexcharts-card
              apex_config:
                chart:
                  height: 390px
              header:
                show: true
                title: Power Usage Per Hour
              experimental:
                color_threshold: true
              graph_span: 24h
              span:
                start: day
                offset: '-15hrs'
              series:
                - entity: sensor.dynamic_power_sensor
                  name: Power Usage
                  color_threshold:
                    - value: 2000
                      color: green
                      opacity: 1
                    - value: 4000
                      color: orange
                    - value: 6000
                      color: red
                    - value: 8000
                      color: black
                  type: column
                  group_by:
                    func: avg
                    duration: 60min
      - type: custom:button-card
        styles:
          card:
            - height: 10px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - border-radius: 40px 40px 50px 5px
            - background: linear-gradient(to left, var(--accent-color), transparent)
        card_mod:
          style: |
            ha-card {
              border-radius: 40px 40px 500px 500px;
              height: 10px;
              max-height: 10px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
  - title: Settings - Automations
    path: settingsAutomations
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    icon: mdi:cog-clockwise
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;           
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                  background-color: var(--primary-color);  
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Settings
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Actions
            show_icon: true
            icon: mdi:hand-pointing-up
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Statistics
            show_icon: true
            icon: mdi:chart-bar-stacked
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings3#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Logs
            show_icon: true
            icon: mdi:book-open
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings4#
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Automations
            show_icon: true
            icon: mdi:cog-clockwise
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
              icon:
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsAutomations#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 5px 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Scenes
            show_icon: true
            icon: mdi:movie
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings2#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Power
            show_icon: true
            icon: mdi:lightning-bolt
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsPower#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Misc
            show_icon: true
            icon: mdi:cog-clockwise
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settingsMisc#
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Create or Edit Animation
        show_icon: true
        icon: mdi:cog
        show_name: true
        styles:
          card:
            - height: 65px
            - max-height: 65px
            - padding: 10px
            - margin: 0
        card_mod:
          style: |
            ha-card {
              height: 65px;
              max-height: 65px;
              padding: 0;
              margin: 0;
              border-radius: 10px;
            }
        tap_action:
          action: navigate
          navigation_path: /config/automation
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: entities
            title: Automations
            show_header_toggle: false
          filter:
            include:
              - domain: automation
  - title: Settings - Power
    path: settingsPower
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    icon: mdi:power-settings
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;           
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                  background-color: var(--primary-color);  
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Settings
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Actions
            show_icon: true
            icon: mdi:hand-pointing-up
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Statistics
            show_icon: true
            icon: mdi:chart-bar-stacked
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings3#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Logs
            show_icon: true
            icon: mdi:book-open
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings4#
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Automations
            show_icon: true
            icon: mdi:cog-clockwise
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsAutomations#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 5px 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Scenes
            show_icon: true
            icon: mdi:movie
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings2#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Power
            show_icon: true
            icon: mdi:lightning-bolt
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
              icon:
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsPower#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Misc
            show_icon: true
            icon: mdi:cog-clockwise
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settingsMisc#
      - type: custom:gap-card
        height: 25
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Power Settings
            show_icon: true
            icon: mdi:lightning-bolt
            show_name: true
            styles:
              card:
                - height: 65px
                - max-height: 65px
                - padding: 0
                - margin: 0
                - background: >-
                    linear-gradient(to right, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
            card_mod:
              style: |
                ha-card {
                  height: 65px;
                  max-height: 65px;
                  padding: 0;
                  margin: 0;
                  background: var(--primary-color);
                  border-radius: 20px 20px 5px 5px;
                }
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: entities
                  entities:
                    - entity: input_select.home_power_measurement_device
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: entities
                  entities:
                    - entity: input_select.frequency_hz
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: entities
                  entities:
                    - entity: input_select.voltage_level
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: entities
                  entities:
                    - entity: input_select.main_fuse_size
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: horizontal-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: entities
                  entities:
                    - entity: input_select.phases_selection
      - type: custom:mushroom-select-card
        entity: input_select.home_power_measurement_device
        icon_color: primary
        primary_info: name
        secondary_info: last-changed
  - title: Settings Misc
    path: settingsMisc
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    icon: mdi:archive-settings
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Home
            show_icon: true
            icon: mdi:home
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: home#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 15px;

                }
          - type: custom:button-card
            name: Rooms
            show_icon: true
            icon: mdi:cube-unfolded
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: rooms#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;
                }
          - type: custom:button-card
            name: Light Control
            show_icon: true
            icon: mdi:lightbulb
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            state:
              - value: 'on'
                styles:
                  card:
                    - background-color: '#FF7000'
            tap_action:
              action: navigate
              navigation_path: lights#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;   

                }  
          - type: custom:button-card
            name: Heating Control
            show_icon: true
            icon: mdi:thermometer
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: heating#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;     
                }
          - type: custom:button-card
            name: Cameras
            show_icon: true
            icon: mdi:shield
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: cameras#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Power Control
            show_icon: true
            icon: mdi:home-lightning-bolt
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: power#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;           
                }
          - type: custom:button-card
            name: Multimedia
            show_icon: true
            icon: mdi:multimedia
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: black
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
                - color: var(--primary-color)
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: multimedia#
            card_mod:
              style: |
                ha-card {
                  border-radius: 5px 5px 5px 5px;    
                }
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: false
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - max-height: 30px
                - max-width: 30px
                - min-height: 30px
                - min-width: 20px
              name:
                - color: black
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 15px 5px;
                  background-color: var(--primary-color);  
                }  
      - type: custom:gap-card
        height: 25
      - type: custom:mushroom-title-card
        title: Settings
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Actions
            show_icon: true
            icon: mdi:hand-pointing-up
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:cog
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
                - align-items: center
              icon:
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Statistics
            show_icon: true
            icon: mdi:chart-bar-stacked
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings3#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Logs
            show_icon: true
            icon: mdi:book-open
            show_name: true
            styles:
              card:
                - max-height: 100px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 50px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 20px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settings4#
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        styles:
          card:
            - height: 5px
            - max-height: 10px
            - padding: 0
            - margin: 0
            - background-color: var(--primary-color);
        card_mod:
          style: |
            ha-card {
              border-radius: 1px;
              height: 2px;
              max-height: 2px;
              padding: 0;
              margin: 0;
              background: var(--primary-color);
            }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Automations
            show_icon: true
            icon: mdi:cog-clockwise
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsAutomations#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px 5px 5px 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Scenes
            show_icon: true
            icon: mdi:movie
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settings2#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  border: none;
                } 
          - type: custom:button-card
            name: Power
            show_icon: true
            icon: mdi:lightning-bolt
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
              icon:
                - color: var(--primary-color)
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - color: var(--primary-color)
                - font-size: 15px
                - font-type: bold
            tap_action:
              action: navigate
              navigation_path: settingsPower#
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
          - type: custom:button-card
            name: Misc
            show_icon: true
            icon: mdi:cog-clockwise
            show_name: true
            styles:
              card:
                - max-height: 50px
                - justify-content: center
                - align-items: center
                - background: >-
                    linear-gradient(to bottom, var(--accent-color),
                    rgb(var(--rgb-primary-color-darker)))
              icon:
                - max-height: 25px
                - max-width: 100px
                - min-height: 20px
                - min-width: 20px
              name:
                - font-size: 15px
                - font-type: bold
            card_mod:
              style: |
                ha-card{
                  border-radius: 5px;
                  box-shadow: 6.2px 12.3px 12.3px hsl(0deg 0% 0% / 0.31);
                  border: none;
                } 
            tap_action:
              action: navigate
              navigation_path: settingsMisc#
      - type: custom:gap-card
        height: 25
      - type: custom:button-card
        name: Create or Edit Rooms
        show_icon: true
        icon: mdi:cube
        show_name: true
        styles:
          card:
            - height: 65px
            - max-height: 65px
            - padding: 10px
            - margin: 0
        card_mod:
          style: |
            ha-card {
              height: 65px;
              max-height: 65px;
              padding: 0;
              margin: 0;
              border-radius: 10px;
            }
        tap_action:
          action: navigate
          navigation_path: /config/areas/dashboard
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Change House Location
            show_icon: true
            icon: mdi:home
            show_name: true
            styles:
              card:
                - height: 65px
                - max-height: 65px
                - padding: 10px
                - margin: 0
            card_mod:
              style: |
                ha-card {
                  height: 65px;
                  max-height: 65px;
                  padding: 0;
                  margin: 0;
                  border-radius: 10px;
                }
            tap_action:
              action: navigate
              navigation_path: /config/zone
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: Settings
            show_icon: true
            icon: mdi:power-settings
            show_name: false
            styles:
              card:
                - height: 100%
                - width: 50px
                - justify-content: center
                - align-items: center
                - background-color: var(--primary-color);
              icon:
                - scale: 2
              name:
                - color: black
                - font-size: 20px
                - font-type: bold
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: input_select.theme_selector
          - type: custom:button-card
            name: Apply Theme
            show_icon: true
            show_name: true
            icon: mdi:palette
            tap_action:
              action: call-service
              service: frontend.set_theme
              service_data_template:
                name: >
                  {% if is_state('input_select.theme_selector', 'Fluent Purple')
                  %}
                    Fluent Purple
                  {% elif is_state('input_select.theme_selector', 'Fluent
                  Green') %}
                    fluent_green_theme
                  {% elif is_state('input_select.theme_selector', 'Fluent
                  Orange') %}
                    fluent_orange_theme
                  {% elif is_state('input_select.theme_selector', 'Fluent
                  Slate') %}
                    fluent_slate_theme
                  {% elif is_state('input_select.theme_selector', 'Fluent Red')
                  %}
                    fluent_red_theme
                  {% elif is_state('input_select.theme_selector', 'Fluent Blue')
                  %}
                    fluent_blue_theme
                  {% else %}
                    default_theme
                  {% endif %}
            styles:
              card:
                - height: 102px
                - justify-content: center
                - align-items: center
  - title: Testpage
    path: testpage
    icon: mdi:account-group
    type: custom:horizontal-layout
    layout:
      max_width: 2000
      max_cols: 1
    subview: true
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_detectors_list
                  above: 1
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_lights_list
                  above: 1
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_doors_list
                  above: 1
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows_list
                  above: 1
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_water_sensors_list
                  above: 1
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors_list
                  above: 1
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_gas_sensors_list
                  above: 1
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_battery_devices_list
                  above: 1
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:auto-entities
        card:
          square: false
          type: grid
          columns: 2
        card_param: cards
        filter:
          include:
            - domain: light
              entity_id: /group/
              options:
                type: custom:stack-in-card
                cards:
                  - type: custom:mushroom-light-card
                    entity: this.entity_id
                    show_brightness_control: true
                    collapsible_controls: true
                    use_light_color: true
                    show_color_control: true
                    tap_action:
                      action: none
                    double_tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        data:
                          title: ' '
                          content:
                            type: custom:auto-entities
                            card:
                              square: false
                              columns: 1
                              type: grid
                            filter:
                              include:
                                - group: this.entity_id
                                  options:
                                    type: custom:mushroom-light-card
                                    use_light_color: true
                                    show_brightness_control: true
                                    show_color_control: true
                                    collapsible_controls: true
                                    show_color_temp_control: true
                                    fill_container: false
                                    layout: horizontal
                                    hold_action:
                                      action: more-info
                            sort:
                              method: name
                            show_empty: true
                            card_param: cards
                    show_color_temp_control: true
                    layout: horizontal
                    card_mod:
                      style: |
                        ha-card {
                          position: absolute
                          top: 0px;
                          right: 0px;
                          width: calc(100%);
                          --ha-card-border-width: 0px;
                        }
                  - type: custom:mushroom-light-card
                    entity: this.entity_id
                    primary_info: none
                    tap_action:
                      action: call-service
                      service: light.toggle
                      target:
                        entity_id: this.entity_id
                    secondary_info: none
                    card_mod:
                      style: |
                        ha-card {
                          position: absolute;
                          top: 0px;
                          left: 0px;
                          width: 66px;
                          color: none;
                          icon: none;
                          --ha-card-border-width: 0px;
                        }
          exclude: []
        show_empty: true
        sort:
          method: domain
      - type: custom:auto-entities
        show_empty: false
        card:
          type: vertical-stack
        card_param: cards
        filter:
          template: >-
            {% set area_filter = ['wohnung','Steckdose Wohnzimmer','Allgemein']
            %}

            {% set areas = states.switch
              | map(attribute='entity_id')
              | map('area_name') | unique | reject('none') | rejectattr('entity_id','in', area_filter) | list %}
            {%- for area in areas -%}  
                {%- if area not in area_filter -%}
                   {{{ 'type': 'vertical-stack',
                  'title': area,
                  'cards': 
                    [{                     
                       'type': 'custom:auto-entities',
                       'show_empty' : 'false',
                       'card' : 
                       { 'type': 'grid',
                          'columns': 2,
                          'square': false,
                       },
                       'card_param': 'cards',
                       'filter':
                       { 'include': 
                       [{ 'domain' : 'switch', 
                           'area' : area,
                           'options':
                           {'type' : 'tile'}}],
                         'exclude': 
                       [{  'name' : 'zhimi*'}]},           
                 
                       }]}}}, 
              {%- endif -%} 
              {%- endfor %}
      - type: custom:auto-entities
        filter:
          include:
            - domain: light
              state: 'on'
              area: '*'
        show_empty: false
        card:
          type: custom:mod-card
          card_mod:
            style:
              mushroom-template-card$: |
                ha-card {padding: 10px 0px 10px 0px !important;}          
          card:
            type: custom:mushroom-template-card
            primary: Lichter
            secondary: >-
              {% set filter
              =['light.schreibtisch_1','light.schreibtisch_2','light.schreibtisch_3','light.wled','light.wled_2','light.steckdose_schlafzimmer','light.zhimi_za4_8475_indicator_light','light.schlafzimmer','light.f440c321_db5fdad4_screen','light.lichtgruppe_buero_2','light.buro']%}
               {{ states.light
                 | selectattr('state', 'eq', 'on') 
                 | rejectattr('entity_id', 'in', filter)
                 | list | length }} an
            icon: mdi:lightbulb
            layout: vertical
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  title: Lichter
                  content:
                    type: custom:mod-card
                    card_mod:
                      style:
                        .: |
                          ha-card {
                            --ha-card-border-width: 0;
                            --ha-card-background: none; } 
                    card:
                      type: custom:auto-entities
                      card:
                        type: entities
                      filter:
                        template: >-
                          {% set area_filter =
                          ['wohnung','SteckdoseWohnzimmer','Allgemein']
                          %}              {% set filter =
                          ['light.schreibtisch_1','light.schreibtisch_2','light.schreibtisch_3','light.wled','light.steckdose_schlafzimmer','light.zhimi_za4_8475_indicator_light','light.schlafzimmer']%}            
                          {%- set areas = states.light |selectattr('state','eq',
                          'on') |rejectattr('entity_id', 'in', filter)
                          |map(attribute='entity_id') | map('area_name') |unique
                          | reject('none') | reject('in',area_filter) | list
                          -%}  {%-for area in areas  -%} 
                            {% set lights =states.light
                            | selectattr('state', 'eq','on')
                            | rejectattr('entity_id', 'in',filter)
                            | selectattr('entity_id', 'in',area_entities(area)) |list -%}         
                            {{{ 'type': 'custom:mushroom-title-card',
                                'title': area}}},
                            {%- for light in lights -%}
                                {{{ 'type': 'custom:mushroom-light-card',              
                                    'entity': light.entity_id,
                                    'use_light_color': 'true',
                                    'show_brightness_control': 'true',
                                    'show_color_control': 'true',
                                    'collapsible_controls': 'true',
                                    'show_color_temp_control': 'true', }}},
                            {%- endfor %}{%- endfor %}
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:auto-entities
          card:
            type: entities
          filter:
            template: >-
              {% set area_filter = ['area1','area2'] %}

              {% set filter = ['light.light1','light.light2'] %}

              {% set hidden_entities = states |
              selectattr('attributes.is_hidden', 'eq', true) |
              map(attribute='entity_id') | list %}

              {%- set areas = states.light

              | rejectattr('entity_id', 'in', filter)

              | rejectattr('entity_id', 'in', hidden_entities)

              | map(attribute='entity_id')

              | map('area_name') | unique | reject('none') 

              | reject('in', area_filter)     

              | list -%}      

              {%- for area in areas  -%}

              {% set lights = states.light

              | rejectattr('entity_id', 'in', filter)

              | rejectattr('entity_id', 'in', hidden_entities)

              | selectattr('entity_id', 'in', area_entities(area)) 

              | list -%}
                {{{ 'type': 'custom:button-card',
                    'name': area,
                    'icon' : 'mdi:water-thermometer',
                    'styles': {
                      'card': [
                        { 'height:': '65px'},
                        { 'padding': '0'},
                        { 'margin': '0'},
                        { 'max-height:': '65px'},
                        { 'border-radius': '100px 10px 100px 10px'}
                      ],
                      'icon': [
                        { 'width': '30px'},
                        { 'height': '30px'},
                        { 'padding': '13px'},
                        { 'margin': '20px'},                
                        { 'left': '20px'},
                        { 'position': 'absolute'},
                        { 'border-radius': '20px'},
                        { 'background-color': 'var(--accent-color)'}
                      ],
                      'name': [
                        { 'left': '70px'},
                        { 'position': 'absolute'},
                        { 'text-align': 'left'},
                        { 'width': '40%'},
                        { 'padding': '10px'},
                        { 'margin': '10px'}, 
                        { 'font-weight': 'bold'},
                        { 'border-radius': '10px 10px 100px 10px'},
                        { 'background-color': 'var(--accent-color)'}
                      ],
                    },
                    'card_mod': {
                      'style': [
                        'ha-card {',                
                        '  max-height: 65px;',
                        '  height: 65px;',
                        '  padding: 0px;',
                        '  margin:: 0px;',
                        '  background: linear-gradient(to right, var(--accent-color), transparent);',
                        '}'
                      ] | join('\n')
                    },
                }}},

                
                {%- for light in lights  -%}
                    {{{ 'type': 'custom:hue-like-light-card',              
                        'entity': light.entity_id,
                        'slider': 'mushroom',

                        }}},
                {%- endfor %}{%- endfor %} 
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            subtitle: Batteries
          - type: custom:auto-entities
            sort:
              method: state
              numeric: true
            card:
              type: entities
            filter:
              include:
                - entity_id: '*battery_level*'
                - attributes:
                    device_class: battery
                    state_class: measurement
                  options:
                    type: custom:mushroom-template-card
                    primary: '{{ states[''this.entity_id''].attributes.friendly_name }}'
                    secondary: '{{ states[''this.entity_id''].state }}%'
                    icon: >-
                      {% set battery_level = states['this.entity_id'].state
                      |float(0) %} {% set battery_round = (battery_level / 10) |
                      int(0) * 10 %} {% if (battery_round >= 100) %}
                        {{ 'mdi:battery' }}
                      {% else %}
                        {% if (battery_round > 0) %}
                          {{'mdi:battery-' ~ battery_round}}
                        {% else %}
                          {{ 'mdi:battery-alert' }}
                        {% endif %}
                      {% endif %}
                    icon_color: >-
                      {% set battery_level = states['this.entity_id'].state
                      |int(0) %} {% set battery_round = (battery_level / 10) |
                      int(0) * 10 %} {% if (battery_level >= 50) %}
                        {{ 'green' }}
                      {% else %}
                        {% if (battery_level > states('input_number.number_batterij_drempel') |int(0)) %}
                          {{'orange'}}
                        {% else %}
                          {{ 'red' }}
                        {% endif %}
                      {% endif %}
                    tap_action:
                      action: none
                    double_tap_action:
                      action: none
              exclude:
                - attributes:
                    friendly_name: '* Battery Level'
              sort:
                method: state
                numeric: true
      - type: custom:auto-entities
        card:
          show_header_toggle: false
          type: entities
        filter:
          template: |
            {%- for s in states.binary_sensor -%}
              {%- if s.object_id.endswith("firmware_update") and states(s.entity_id) == 'on' -%}
                {{
                  {
                    'type': 'custom:secondaryinfo-entity-row',
                    'entity': "button." + s.object_id.replace("firmware_update", "ota_update"),
                    'secondary_info': state_attr(s.entity_id, 'latest_stable_version') + "<br>" + state_attr(s.entity_id, 'installed_version')
                  }
                }},{{
                  {
                    'type': 'divider'
                  }
                }},
              {%- endif -%}
            {%- endfor -%}
          include:
            - entity_id: '*firmware_update'
              state: 'off'
              options:
                type: custom:secondaryinfo-entity-row
                secondary_info: '[[ this.entity_id.attributes.installed_version ]]'
          exclude:
            - attributes:
                installed_version: '*rc*'
            - attributes:
                installed_version: '*beta*'
            - attributes:
                latest_stable_version: ''
      - type: custom:auto-entities
        card:
          type: entities
        filter:
          template: |-
            {% for s in states.switch -%}
              {{
                {
                  'entity': s.entity_id,
                  'secondary_info': 'last-changed'
                }
              }},{%- if not loop.last -%}{{
                {
                  'type': 'section'
                }
              }},
              {%- endif -%}
            {%- endfor %}
      - type: custom:auto-entities
        card:
          type: custom:mini-graph-card
          name: Devices Battery Level
          hours_to_show: 12
          points_per_hour: 30
          align_icon: left
          align_header: left
          lower_bound: 0
          line_width: 1
          show:
            fill: false
            labels: true
        filter:
          include:
            - entity_id: sensor.battery_*
      - type: custom:auto-entities
        card:
          type: entities
          title: Shelly OTA Updates
        filter:
          template: |
            {% for sensor in states.binary_sensor -%}
              {% if 'firmware_update' in sensor.entity_id and sensor.state == 'on' %}
                {{ sensor.entity_id | regex_replace('^binary_sensor.([a-z0-9_]+)_firmware_update$','button.\\1_ota_update') }}, 
              {% endif %}
            {%- endfor %}
  - title: test2
    path: test5
    icon: mdi:account
    layout:
      max_width: 2000
      max_cols: 1
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: conditional
        conditions:
          - condition: screen
            media_query: '(min-width: 768px)'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              name: SMARTi
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - width: 150px
                  - background-color: rgba(0, 0, 0, 0)
                img_cell:
                  - width: 100%
                  - height: 100%
                  - object-fit: cover
              entity_picture: https://i.postimg.cc/R0NDbYjV/round-logo-smarti-only.png
              show_name: true
              show_state: true
              show_entity_picture: true
              entity: binary_sensor.internet
              tap_action:
                action: url
                url_path: https://www.smarti.dev
            - type: custom:button-card
              name: Alarm
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                  - divider-color: transparent
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: alarm_control_panel.alarmo
              entity: alarm_control_panel.alarmo
              card_mod:
                style: |
                  .button-card-main ha-card {
                    .divider-color {
                    color: transparent !important;
                  }
            - type: custom:button-card
              name: Mode
              show_state: true
              show_icon: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: input_select.home_mode
              entity: sensor.home_mode
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_motion_sensors
                  above: 0
              card:
                type: custom:button-card
                name: Motion
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Motion Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: motion
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_motion_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_lights
              card:
                type: custom:button-card
                name: Lights
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Active Lights
                      content:
                        type: custom:auto-entities
                        show_empty: false
                        card:
                          show_name: true
                          show_icon: true
                          show_state: true
                          type: glance
                          title: Lights on
                          state_color: true
                          columns: 4
                        filter:
                          include:
                            - domain: light
                              state: 'on'
                              options:
                                tap_action:
                                  action: toggle
                        sort:
                          method: none
                          reverse: false
                          numeric: false
                entity: sensor.active_lights
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_doors
              card:
                type: custom:button-card
                name: Doors
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Doors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: door
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_doors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_windows
                  above: 0
              card:
                type: custom:button-card
                name: Windows
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Open Windows
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: window
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_windows
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_water_sensors
              card:
                type: custom:button-card
                name: Water
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Water Sensors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: moisture
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_water_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: sensor.active_smoke_detectors
                  above: 0
              card:
                type: custom:button-card
                name: Smoke
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Smoke Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: smoke
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_smoke_detectors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_gas_sensors
              card:
                type: custom:button-card
                name: Gas
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Gas Detectors
                      content:
                        type: custom:auto-entities
                        card:
                          type: entities
                        filter:
                          include:
                            - domain: binary_sensor
                              attributes:
                                device_class: gas
                              state: 'on'
                        sort:
                          reverse: true
                entity: sensor.active_gas_sensors
            - type: conditional
              conditions:
                - condition: numeric_state
                  above: 0
                  entity: sensor.active_low_battery_devices_count
              card:
                type: custom:button-card
                name: Batteries
                show_state: true
                show_icon: true
                styles:
                  card:
                    - font-size: 13px
                    - height: 150px
                    - background-color: rgba(0, 0, 0, 0)
                  icon:
                    - color: var(--primary-color)
                    - font-size: 3em
                    - text-align: center
                    - max-height: 50px
                    - max-width: 50px
                    - min-height: 30px
                    - min-width: 30px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      autoclose: false
                      title: Batteries
                      content:
                        type: custom:auto-entities
                        card:
                          show_header_toggle: false
                          type: entities
                          state_color: true
                        filter:
                          include:
                            - entity_id: sensor.*_battery
                            - entity_id: binary_sensor.*battery_low
                            - entity_id: sensor.*.battery_state
                          exclude:
                            - state: unavailable
                            - state: '-'
                            - state: unknown
                            - state: none
                            - state: '= 0,0'
                            - state: '>= 20'
                            - state: 'off'
                            - entity_id: sensor.campainha_ring_mqtt_battery
                            - entity_id: sensor.campainha_battery
                            - state: None
                            - state: charging
                            - state: discharging
                            - state: high
                            - name: /[Ll]ow/
                            - name: /[Ss]tate/
                        sort:
                          method: friendly_name
                          numeric: true
                          ignore_case: false
                          ip: false
                          reverse: false
                        show_empty: false
                entity: sensor.active_low_battery_devices_count
            - type: custom:button-card
              name: Power
              show_state: true
              show_icon: true
              show_value: true
              styles:
                card:
                  - font-size: 13px
                  - height: 150px
                  - background-color: rgba(0, 0, 0, 0)
                icon:
                  - color: var(--primary-color)
                  - font-size: 3em
                  - text-align: center
                  - max-height: 50px
                  - max-width: 50px
                  - min-height: 30px
                  - min-width: 30px
              tap_action:
                action: more-info
                entity: sensor.dynamic_power_sensor
              entity: sensor.dynamic_power_sensor
      - type: custom:mod-card
        card_mod:
          style:
            .: |
              ha-card {
                --ha-card-border-width: 0;
                --ha-card-border-radius: 20px;
                --ha-card-background: transparent;
              }
        card:
          type: custom:tabbed-card
          tabs:
            - attributes:
                label: Temperature
                icon: mdi:thermometer
              card:
                type: custom:auto-entities
                card:
                  type: statistics-graph
                  chart_type: line
                  title: Temperature Graph
                  stat_types:
                    - mean
                  period: hour
                  days_to_show: 2
                  hide_legend: true
                filter:
                  include:
                    - domain: sensor
                      attributes:
                        device_class: temperature
            - attributes:
                label: Humidity
                icon: mdi:water-percent
              card:
                type: custom:auto-entities
                card:
                  type: statistics-graph
                  chart_type: line
                  title: Humidity Graph
                  stat_types:
                    - mean
                  period: hour
                  days_to_show: 2
                  hide_legend: true
                filter:
                  include:
                    - domain: sensor
                      attributes:
                        device_class: humidity
